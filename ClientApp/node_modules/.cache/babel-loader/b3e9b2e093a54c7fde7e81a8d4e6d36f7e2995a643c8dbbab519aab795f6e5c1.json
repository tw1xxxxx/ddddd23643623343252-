{"ast":null,"code":"// Утилита для работы с данными через статические JSON файлы\n// Данные загружаются через fetch и сохраняются через API\n\n// Определяем URL API\n// Всегда используем тот же домен (все в одном проекте)\nconst getApiUrl = () => {\n  return `${window.location.origin}/api`;\n};\n\n// Файловый сервер больше не нужен - все работает через API в одном проекте\n\n// Сохранение данных через API\nconst saveToProjectFile = async (data, filename) => {\n  const apiUrl = getApiUrl();\n  try {\n    const response = await fetch(`${apiUrl}/files/${filename}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json'\n      },\n      body: JSON.stringify(data)\n    });\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);\n    }\n    const result = await response.json();\n    return {\n      success: true,\n      message: result.message || `Файл ${filename} успешно сохранен`\n    };\n  } catch (error) {\n    console.error(`Ошибка сохранения ${filename} через API:`, error);\n    return {\n      success: false,\n      message: `Не удалось сохранить файл: ${error.message}. Убедитесь, что Backend запущен.`\n    };\n  }\n};\n\n// Загрузка данных из файла через fetch\nexport const loadDataFromFile = async filename => {\n  try {\n    // Используем cache: 'no-store' для предотвращения кеширования\n    const response = await fetch(`/${filename}?t=${Date.now()}`, {\n      cache: 'no-store',\n      headers: {\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n        'Pragma': 'no-cache',\n        'Expires': '0'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    // Синхронизируем с localStorage после успешной загрузки из файла\n    // Для theme.json используем специальную обработку в loadTheme\n    if (filename !== 'theme.json') {\n      const storageKey = `restaurant-${filename.replace('.json', '')}`;\n      localStorage.setItem(storageKey, JSON.stringify(data));\n    }\n    return {\n      success: true,\n      data\n    };\n  } catch (error) {\n    console.error(`Ошибка загрузки ${filename}:`, error);\n    // Fallback на localStorage, если файл не найден\n    const stored = localStorage.getItem(`restaurant-${filename.replace('.json', '')}`);\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored);\n        return {\n          success: true,\n          data: parsed\n        };\n      } catch (e) {\n        console.error(`Ошибка парсинга данных из localStorage для ${filename}:`, e);\n        return {\n          success: false,\n          message: 'Ошибка парсинга данных'\n        };\n      }\n    }\n    return {\n      success: false,\n      message: 'Файл не найден'\n    };\n  }\n};\n\n// Загрузка темы из файла\nexport const loadTheme = async () => {\n  const result = await loadDataFromFile('theme.json');\n  if (result.success) {\n    const themeData = result.data;\n    const currentThemeId = localStorage.getItem('restaurant-theme') || 'default';\n    const newThemeId = themeData.currentTheme || 'default';\n\n    // Синхронизируем с localStorage в правильном формате\n    if (themeData.currentTheme) {\n      localStorage.setItem('restaurant-theme', themeData.currentTheme);\n    }\n    if (themeData.themes) {\n      localStorage.setItem('restaurant-themes', JSON.stringify(themeData.themes));\n    }\n\n    // Если тема изменилась, применяем её (но не перезаписываем, если уже применена)\n    if (newThemeId !== currentThemeId) {\n      // Тема изменилась в файле, но не применяем здесь - пусть Header.js это сделает\n      // чтобы избежать конфликтов с уже примененной темой\n    }\n    return themeData;\n  }\n  // Возвращаем дефолтную тему\n  const defaultTheme = {\n    currentTheme: 'default',\n    themes: {\n      elegant: {\n        id: 'elegant',\n        name: 'Элегантная синяя',\n        primaryColor: '#2C3E50',\n        primaryLight: '#34495E',\n        primaryDark: '#1C2833',\n        secondaryColor: '#3498DB',\n        secondaryLight: '#5DADE2',\n        secondaryDark: '#2980B9',\n        accentColor: '#E74C3C',\n        backgroundColor: '#ECF0F1',\n        textColor: '#2C3E50',\n        textLight: '#566573'\n      }\n    }\n  };\n  // Синхронизируем дефолтную тему с localStorage\n  localStorage.setItem('restaurant-theme', defaultTheme.currentTheme);\n  localStorage.setItem('restaurant-themes', JSON.stringify(defaultTheme.themes));\n  return defaultTheme;\n};\n\n// Загрузка меню из файла\nexport const loadMenu = async () => {\n  const result = await loadDataFromFile('menu.json');\n  if (result.success && Array.isArray(result.data)) {\n    return result.data;\n  }\n  return [];\n};\n\n// Загрузка заявок из файла\nexport const loadReservations = async () => {\n  const result = await loadDataFromFile('reservations.json');\n  if (result.success && Array.isArray(result.data)) {\n    return result.data;\n  }\n  return [];\n};\n\n// Загрузка категорий из файла\nexport const loadCategories = async () => {\n  const result = await loadDataFromFile('categories.json');\n  if (result.success && Array.isArray(result.data)) {\n    return result.data;\n  }\n  return [{\n    id: 1,\n    key: 'cold',\n    name: 'Холодные закуски',\n    order: 1\n  }, {\n    id: 2,\n    key: 'salads',\n    name: 'Салаты',\n    order: 2\n  }, {\n    id: 3,\n    key: 'hot',\n    name: 'Горячие блюда',\n    order: 3\n  }, {\n    id: 4,\n    key: 'drinks',\n    name: 'Напитки',\n    order: 4\n  }];\n};\n\n// Сохранение темы в файл проекта\nexport const saveTheme = async themeData => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-theme', themeData.currentTheme);\n  localStorage.setItem('restaurant-themes', JSON.stringify(themeData.themes));\n\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(themeData, 'theme.json');\n  if (result.success) {\n    return result;\n  }\n\n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Сохранение меню в файл проекта\nexport const saveMenu = async menuItems => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-menu', JSON.stringify(menuItems));\n\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(menuItems, 'menu.json');\n  if (result.success) {\n    return result;\n  }\n\n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Сохранение заявок в файл проекта - только для админ-панели\nexport const saveReservations = async reservations => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-reservations', JSON.stringify(reservations));\n\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(reservations, 'reservations.json');\n  if (result.success) {\n    return result;\n  }\n\n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Автоматическое сохранение заявок в файл проекта\nexport const autoSaveReservations = async reservations => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-reservations', JSON.stringify(reservations));\n\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(reservations, 'reservations.json');\n  if (result.success) {\n    return result;\n  }\n\n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Сохранение категорий в файл проекта\nexport const saveCategories = async categories => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-categories', JSON.stringify(categories));\n\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(categories, 'categories.json');\n  if (result.success) {\n    return result;\n  }\n\n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Автоматическое сохранение (алиасы для обратной совместимости)\nexport const autoSaveMenu = saveMenu;\nexport const saveMenuToFile = saveMenu;\nexport const saveReservationsToFile = saveReservations;\n\n// Сохранение фотографий (оставляем как есть, так как они хранятся в localStorage)\nexport const autoSavePhotos = async photos => {\n  localStorage.setItem('restaurant-photos', JSON.stringify(photos));\n  return {\n    success: true,\n    message: 'Фотографии сохранены'\n  };\n};\nexport const savePhotosToFile = async photos => {\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(photos, 'photos.json');\n  if (result.success) {\n    return result;\n  }\n\n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Инициализация файлов (оставляем для обратной совместимости, но они не нужны)\nexport const initializeReservationsFile = async () => {\n  return null;\n};\nexport const initializeMenuFile = async () => {\n  return null;\n};\nexport const initializePhotosFile = async () => {\n  return null;\n};","map":{"version":3,"names":["getApiUrl","window","location","origin","saveToProjectFile","data","filename","apiUrl","response","fetch","method","headers","body","JSON","stringify","ok","errorText","text","Error","status","result","json","success","message","error","console","loadDataFromFile","Date","now","cache","storageKey","replace","localStorage","setItem","stored","getItem","parsed","parse","e","loadTheme","themeData","currentThemeId","newThemeId","currentTheme","themes","defaultTheme","elegant","id","name","primaryColor","primaryLight","primaryDark","secondaryColor","secondaryLight","secondaryDark","accentColor","backgroundColor","textColor","textLight","loadMenu","Array","isArray","loadReservations","loadCategories","key","order","saveTheme","saveMenu","menuItems","saveReservations","reservations","autoSaveReservations","saveCategories","categories","autoSaveMenu","saveMenuToFile","saveReservationsToFile","autoSavePhotos","photos","savePhotosToFile","initializeReservationsFile","initializeMenuFile","initializePhotosFile"],"sources":["C:/restaurant-website (2)/restaurant-website/Backend/ClientApp/src/utils/fileStorage.js"],"sourcesContent":["// Утилита для работы с данными через статические JSON файлы\n// Данные загружаются через fetch и сохраняются через API\n\n// Определяем URL API\n// Всегда используем тот же домен (все в одном проекте)\nconst getApiUrl = () => {\n  return `${window.location.origin}/api`;\n};\n\n// Файловый сервер больше не нужен - все работает через API в одном проекте\n\n// Сохранение данных через API\nconst saveToProjectFile = async (data, filename) => {\n  const apiUrl = getApiUrl();\n  \n  try {\n    const response = await fetch(`${apiUrl}/files/${filename}`, {\n      method: 'POST',\n      headers: {\n        'Content-Type': 'application/json',\n      },\n      body: JSON.stringify(data),\n    });\n\n    if (!response.ok) {\n      const errorText = await response.text();\n      throw new Error(`HTTP error! status: ${response.status}, message: ${errorText}`);\n    }\n\n    const result = await response.json();\n    return { success: true, message: result.message || `Файл ${filename} успешно сохранен` };\n  } catch (error) {\n    console.error(`Ошибка сохранения ${filename} через API:`, error);\n    return { \n      success: false, \n      message: `Не удалось сохранить файл: ${error.message}. Убедитесь, что Backend запущен.` \n    };\n  }\n};\n\n// Загрузка данных из файла через fetch\nexport const loadDataFromFile = async (filename) => {\n  try {\n    // Используем cache: 'no-store' для предотвращения кеширования\n    const response = await fetch(`/${filename}?t=${Date.now()}`, {\n      cache: 'no-store',\n      headers: {\n        'Cache-Control': 'no-cache, no-store, must-revalidate',\n        'Pragma': 'no-cache',\n        'Expires': '0'\n      }\n    });\n    if (!response.ok) {\n      throw new Error(`HTTP error! status: ${response.status}`);\n    }\n    const data = await response.json();\n    // Синхронизируем с localStorage после успешной загрузки из файла\n    // Для theme.json используем специальную обработку в loadTheme\n    if (filename !== 'theme.json') {\n      const storageKey = `restaurant-${filename.replace('.json', '')}`;\n      localStorage.setItem(storageKey, JSON.stringify(data));\n    }\n    return { success: true, data };\n  } catch (error) {\n    console.error(`Ошибка загрузки ${filename}:`, error);\n    // Fallback на localStorage, если файл не найден\n    const stored = localStorage.getItem(`restaurant-${filename.replace('.json', '')}`);\n    if (stored) {\n      try {\n        const parsed = JSON.parse(stored);\n        return { success: true, data: parsed };\n      } catch (e) {\n        console.error(`Ошибка парсинга данных из localStorage для ${filename}:`, e);\n        return { success: false, message: 'Ошибка парсинга данных' };\n      }\n    }\n    return { success: false, message: 'Файл не найден' };\n  }\n};\n\n// Загрузка темы из файла\nexport const loadTheme = async () => {\n  const result = await loadDataFromFile('theme.json');\n  if (result.success) {\n    const themeData = result.data;\n    const currentThemeId = localStorage.getItem('restaurant-theme') || 'default';\n    const newThemeId = themeData.currentTheme || 'default';\n    \n    // Синхронизируем с localStorage в правильном формате\n    if (themeData.currentTheme) {\n      localStorage.setItem('restaurant-theme', themeData.currentTheme);\n    }\n    if (themeData.themes) {\n      localStorage.setItem('restaurant-themes', JSON.stringify(themeData.themes));\n    }\n    \n    // Если тема изменилась, применяем её (но не перезаписываем, если уже применена)\n    if (newThemeId !== currentThemeId) {\n      // Тема изменилась в файле, но не применяем здесь - пусть Header.js это сделает\n      // чтобы избежать конфликтов с уже примененной темой\n    }\n    \n    return themeData;\n  }\n  // Возвращаем дефолтную тему\n  const defaultTheme = {\n    currentTheme: 'default',\n    themes: {\n      elegant: {\n        id: 'elegant',\n        name: 'Элегантная синяя',\n        primaryColor: '#2C3E50',\n        primaryLight: '#34495E',\n        primaryDark: '#1C2833',\n        secondaryColor: '#3498DB',\n        secondaryLight: '#5DADE2',\n        secondaryDark: '#2980B9',\n        accentColor: '#E74C3C',\n        backgroundColor: '#ECF0F1',\n        textColor: '#2C3E50',\n        textLight: '#566573'\n      }\n    }\n  };\n  // Синхронизируем дефолтную тему с localStorage\n  localStorage.setItem('restaurant-theme', defaultTheme.currentTheme);\n  localStorage.setItem('restaurant-themes', JSON.stringify(defaultTheme.themes));\n  return defaultTheme;\n};\n\n// Загрузка меню из файла\nexport const loadMenu = async () => {\n  const result = await loadDataFromFile('menu.json');\n  if (result.success && Array.isArray(result.data)) {\n    return result.data;\n  }\n  return [];\n};\n\n// Загрузка заявок из файла\nexport const loadReservations = async () => {\n  const result = await loadDataFromFile('reservations.json');\n  if (result.success && Array.isArray(result.data)) {\n    return result.data;\n  }\n  return [];\n};\n\n// Загрузка категорий из файла\nexport const loadCategories = async () => {\n  const result = await loadDataFromFile('categories.json');\n  if (result.success && Array.isArray(result.data)) {\n    return result.data;\n  }\n  return [\n    { id: 1, key: 'cold', name: 'Холодные закуски', order: 1 },\n    { id: 2, key: 'salads', name: 'Салаты', order: 2 },\n    { id: 3, key: 'hot', name: 'Горячие блюда', order: 3 },\n    { id: 4, key: 'drinks', name: 'Напитки', order: 4 }\n  ];\n};\n\n// Сохранение темы в файл проекта\nexport const saveTheme = async (themeData) => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-theme', themeData.currentTheme);\n  localStorage.setItem('restaurant-themes', JSON.stringify(themeData.themes));\n  \n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(themeData, 'theme.json');\n  if (result.success) {\n    return result;\n  }\n  \n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Сохранение меню в файл проекта\nexport const saveMenu = async (menuItems) => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-menu', JSON.stringify(menuItems));\n  \n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(menuItems, 'menu.json');\n  if (result.success) {\n    return result;\n  }\n  \n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Сохранение заявок в файл проекта - только для админ-панели\nexport const saveReservations = async (reservations) => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-reservations', JSON.stringify(reservations));\n  \n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(reservations, 'reservations.json');\n  if (result.success) {\n    return result;\n  }\n  \n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Автоматическое сохранение заявок в файл проекта\nexport const autoSaveReservations = async (reservations) => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-reservations', JSON.stringify(reservations));\n  \n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(reservations, 'reservations.json');\n  if (result.success) {\n    return result;\n  }\n  \n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Сохранение категорий в файл проекта\nexport const saveCategories = async (categories) => {\n  // Сохраняем в localStorage для быстрого доступа\n  localStorage.setItem('restaurant-categories', JSON.stringify(categories));\n  \n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(categories, 'categories.json');\n  if (result.success) {\n    return result;\n  }\n  \n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Автоматическое сохранение (алиасы для обратной совместимости)\nexport const autoSaveMenu = saveMenu;\nexport const saveMenuToFile = saveMenu;\nexport const saveReservationsToFile = saveReservations;\n\n// Сохранение фотографий (оставляем как есть, так как они хранятся в localStorage)\nexport const autoSavePhotos = async (photos) => {\n  localStorage.setItem('restaurant-photos', JSON.stringify(photos));\n  return { success: true, message: 'Фотографии сохранены' };\n};\n\nexport const savePhotosToFile = async (photos) => {\n  // Сохраняем в файл проекта\n  const result = await saveToProjectFile(photos, 'photos.json');\n  if (result.success) {\n    return result;\n  }\n  \n  // Если не удалось сохранить в файл, возвращаем ошибку\n  return result;\n};\n\n// Инициализация файлов (оставляем для обратной совместимости, но они не нужны)\nexport const initializeReservationsFile = async () => {\n  return null;\n};\n\nexport const initializeMenuFile = async () => {\n  return null;\n};\n\nexport const initializePhotosFile = async () => {\n  return null;\n};\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}