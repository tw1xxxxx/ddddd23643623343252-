{"ast":null,"code":"import React,{useState,useEffect,useRef}from'react';import'./Menu.css';import{defaultMenu}from'../data/defaultMenu';import{loadMenu,loadCategories}from'../utils/fileStorage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Menu=()=>{const[expandedItem,setExpandedItem]=useState(null);const[menuItems,setMenuItems]=useState([]);const[categories,setCategories]=useState([]);const[activeCategory,setActiveCategory]=useState(null);const[showCategoryBar,setShowCategoryBar]=useState(false);const categoryRefs=useRef({});const categoryBarRef=useRef(null);const activeButtonRef=useRef(null);useEffect(()=>{const loadMenuFromFile=async()=>{try{// Загружаем категории из файла\nconst loadedCategories=await loadCategories();if(Array.isArray(loadedCategories)&&loadedCategories.length>0){loadedCategories.sort((a,b)=>a.order-b.order);setCategories(loadedCategories);}else{// Базовые категории по умолчанию\nconst defaultCategories=[{id:1,key:'cold',name:'Холодные закуски',order:1},{id:2,key:'salads',name:'Салаты',order:2},{id:3,key:'hot',name:'Горячие блюда',order:3},{id:4,key:'drinks',name:'Напитки',order:4}];setCategories(defaultCategories);}// Загружаем меню из файла\nconst loadedMenu=await loadMenu();if(Array.isArray(loadedMenu)&&loadedMenu.length>0){setMenuItems(loadedMenu);}else{// Если меню пустое, используем базовое меню\nsetMenuItems([...defaultMenu]);}}catch(error){console.error('Ошибка загрузки меню:',error);setMenuItems([...defaultMenu]);setCategories([{id:1,key:'cold',name:'Холодные закуски',order:1},{id:2,key:'salads',name:'Салаты',order:2},{id:3,key:'hot',name:'Горячие блюда',order:3},{id:4,key:'drinks',name:'Напитки',order:4}]);}};loadMenuFromFile();},[]);const toggleExpand=itemId=>{setExpandedItem(expandedItem===itemId?null:itemId);};const formatPrice=price=>{const priceNum=parseInt(price);return isNaN(priceNum)?'0 ₽':\"\".concat(priceNum,\" \\u20BD\");};const handleImageError=e=>{e.target.src='https://via.placeholder.com/300x200/8B7355/FFFFFF?text=Тбилиси';};// Группируем блюда по категориям\nconst categorizedItems=categories.map(category=>({category,items:menuItems.filter(item=>item.category===category.key)})).filter(group=>group.items.length>0);// Отслеживание скролла для определения активной категории\nuseEffect(()=>{const handleScroll=()=>{const scrollY=window.scrollY;const isMobile=window.innerWidth<=768;// Показываем панель категорий после скролла вниз (только на мобильных)\nif(isMobile){const shouldShow=scrollY>200;setShowCategoryBar(shouldShow);// Скрываем Header при показе панели категорий\nconst header=document.querySelector('.header');if(header){if(shouldShow){header.style.transform='translateY(-100%)';}else{header.style.transform='translateY(0)';}}}else{setShowCategoryBar(false);// Показываем Header на десктопе\nconst header=document.querySelector('.header');if(header){header.style.transform='translateY(0)';}}// Определяем активную категорию на основе позиции скролла\nlet currentActive=null;const offset=isMobile?100:150;// Отступ для определения активной категории\ncategorizedItems.forEach(_ref=>{let{category}=_ref;const element=categoryRefs.current[category.id];if(element){const rect=element.getBoundingClientRect();if(rect.top<=offset&&rect.bottom>offset){currentActive=category.id;}}});// Если мы в самом верху, выбираем первую категорию\nif(scrollY<100&&categorizedItems.length>0){currentActive=categorizedItems[0].category.id;}if(currentActive!==activeCategory){setActiveCategory(currentActive);// Автоматический скролл кнопок в панели, чтобы активная была по центру или левее центра (только на мобильных)\nif(isMobile&&activeButtonRef.current&&categoryBarRef.current){// Используем setTimeout для того, чтобы дать время на обновление DOM\nsetTimeout(()=>{if(activeButtonRef.current&&categoryBarRef.current){const scrollContainer=categoryBarRef.current.querySelector('.category-bar-scroll');if(scrollContainer){const button=activeButtonRef.current;const containerRect=scrollContainer.getBoundingClientRect();const buttonRect=button.getBoundingClientRect();// Вычисляем позицию, чтобы кнопка была по центру или левее центра (примерно на 1/3 от центра)\nconst containerCenter=containerRect.width/2;const targetPosition=containerCenter-containerRect.width/3;// Позиция левее центра\nconst buttonLeft=button.offsetLeft;// Позиция кнопки относительно контейнера\nconst scrollOffset=buttonLeft-targetPosition;scrollContainer.scrollTo({left:Math.max(0,scrollOffset),// Не скроллим в отрицательную сторону\nbehavior:'smooth'});}}},100);}}};const handleResize=()=>{// При изменении размера окна проверяем, нужно ли показывать панель\nconst header=document.querySelector('.header');if(window.innerWidth>768){setShowCategoryBar(false);// Показываем Header на десктопе\nif(header){header.style.transform='translateY(0)';}}else{handleScroll();}};window.addEventListener('scroll',handleScroll,{passive:true});window.addEventListener('resize',handleResize);handleScroll();// Вызываем сразу для начального состояния\nreturn()=>{window.removeEventListener('scroll',handleScroll);window.removeEventListener('resize',handleResize);// Восстанавливаем Header при размонтировании\nconst header=document.querySelector('.header');if(header){header.style.transform='translateY(0)';}};},[categorizedItems,activeCategory]);// Функция для скролла к категории\nconst scrollToCategory=categoryId=>{const element=categoryRefs.current[categoryId];if(element){const offset=80;// Отступ сверху для панели категорий\nconst elementPosition=element.getBoundingClientRect().top+window.scrollY;const offsetPosition=elementPosition-offset;window.scrollTo({top:offsetPosition,behavior:'smooth'});setActiveCategory(categoryId);// Автоматический скролл кнопок в панели при клике (только на мобильных)\nif(window.innerWidth<=768&&categoryBarRef.current){setTimeout(()=>{const scrollContainer=categoryBarRef.current.querySelector('.category-bar-scroll');// Находим кнопку по categoryId\nconst button=scrollContainer===null||scrollContainer===void 0?void 0:scrollContainer.querySelector(\"[data-category-id=\\\"\".concat(categoryId,\"\\\"]\"));if(scrollContainer&&button){const containerRect=scrollContainer.getBoundingClientRect();const buttonRect=button.getBoundingClientRect();// Вычисляем позицию, чтобы кнопка была по центру или левее центра (примерно на 1/3 от центра)\nconst containerCenter=containerRect.width/2;const targetPosition=containerCenter-containerRect.width/3;// Позиция левее центра\nconst buttonLeft=button.offsetLeft;// Позиция кнопки относительно контейнера\nconst scrollOffset=buttonLeft-targetPosition;scrollContainer.scrollTo({left:Math.max(0,scrollOffset),// Не скроллим в отрицательную сторону\nbehavior:'smooth'});}},150);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"menu-page \".concat(showCategoryBar?'category-bar-visible':''),children:[categorizedItems.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"category-bar \".concat(showCategoryBar?'visible':''),ref:categoryBarRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"category-bar-scroll\",children:categorizedItems.map(_ref2=>{let{category}=_ref2;return/*#__PURE__*/_jsx(\"button\",{ref:activeCategory===category.id?activeButtonRef:null,\"data-category-id\":category.id,className:\"category-bar-button \".concat(activeCategory===category.id?'active':''),onClick:()=>scrollToCategory(category.id),children:category.name},category.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"menu-title\",children:\"\\u041C\\u0435\\u043D\\u044E \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0430 \\\"\\u0422\\u0431\\u0438\\u043B\\u0438\\u0441\\u0438\\\"\"}),categorizedItems.map(_ref3=>{let{category,items}=_ref3;return/*#__PURE__*/_jsxs(\"section\",{className:\"menu-category\",ref:el=>{if(el)categoryRefs.current[category.id]=el;},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"category-title\",children:category.name}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-grid\",children:items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,onError:handleImageError})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"item-name\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-price-weight\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"item-price\",children:formatPrice(item.price)}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-weight\",children:[\"\\xB7 \",item.weight]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"details-btn\",onClick:()=>toggleExpand(item.id),children:expandedItem===item.id?'Скрыть':'Подробнее'}),expandedItem===item.id&&/*#__PURE__*/_jsx(\"div\",{className:\"item-description\",children:item.description})]})]},item.id))})]},category.id);}),categorizedItems.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-menu-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u0435\\u043D\\u044E \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0437\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435 \\u0438\\u043B\\u0438 \\u0441\\u0432\\u044F\\u0436\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u043E\\u043C\"})]})]})]});};export default Menu;","map":{"version":3,"names":["React","useState","useEffect","useRef","defaultMenu","loadMenu","loadCategories","jsx","_jsx","jsxs","_jsxs","Menu","expandedItem","setExpandedItem","menuItems","setMenuItems","categories","setCategories","activeCategory","setActiveCategory","showCategoryBar","setShowCategoryBar","categoryRefs","categoryBarRef","activeButtonRef","loadMenuFromFile","loadedCategories","Array","isArray","length","sort","a","b","order","defaultCategories","id","key","name","loadedMenu","error","console","toggleExpand","itemId","formatPrice","price","priceNum","parseInt","isNaN","concat","handleImageError","e","target","src","categorizedItems","map","category","items","filter","item","group","handleScroll","scrollY","window","isMobile","innerWidth","shouldShow","header","document","querySelector","style","transform","currentActive","offset","forEach","_ref","element","current","rect","getBoundingClientRect","top","bottom","setTimeout","scrollContainer","button","containerRect","buttonRect","containerCenter","width","targetPosition","buttonLeft","offsetLeft","scrollOffset","scrollTo","left","Math","max","behavior","handleResize","addEventListener","passive","removeEventListener","scrollToCategory","categoryId","elementPosition","offsetPosition","className","children","ref","_ref2","onClick","_ref3","el","image","alt","onError","weight","description"],"sources":["C:/restaurant-website (2)/restaurant-website/Backend/ClientApp/src/pages/Menu.js"],"sourcesContent":["import React, { useState, useEffect, useRef } from 'react';\nimport './Menu.css';\nimport { defaultMenu } from '../data/defaultMenu';\nimport { loadMenu, loadCategories } from '../utils/fileStorage';\n\nconst Menu = () => {\n  const [expandedItem, setExpandedItem] = useState(null);\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [activeCategory, setActiveCategory] = useState(null);\n  const [showCategoryBar, setShowCategoryBar] = useState(false);\n  const categoryRefs = useRef({});\n  const categoryBarRef = useRef(null);\n  const activeButtonRef = useRef(null);\n\n  useEffect(() => {\n    const loadMenuFromFile = async () => {\n      try {\n        // Загружаем категории из файла\n        const loadedCategories = await loadCategories();\n        if (Array.isArray(loadedCategories) && loadedCategories.length > 0) {\n          loadedCategories.sort((a, b) => a.order - b.order);\n          setCategories(loadedCategories);\n        } else {\n          // Базовые категории по умолчанию\n          const defaultCategories = [\n            { id: 1, key: 'cold', name: 'Холодные закуски', order: 1 },\n            { id: 2, key: 'salads', name: 'Салаты', order: 2 },\n            { id: 3, key: 'hot', name: 'Горячие блюда', order: 3 },\n            { id: 4, key: 'drinks', name: 'Напитки', order: 4 }\n          ];\n          setCategories(defaultCategories);\n        }\n\n        // Загружаем меню из файла\n        const loadedMenu = await loadMenu();\n        if (Array.isArray(loadedMenu) && loadedMenu.length > 0) {\n          setMenuItems(loadedMenu);\n        } else {\n          // Если меню пустое, используем базовое меню\n          setMenuItems([...defaultMenu]);\n        }\n      } catch (error) {\n        console.error('Ошибка загрузки меню:', error);\n        setMenuItems([...defaultMenu]);\n        setCategories([\n          { id: 1, key: 'cold', name: 'Холодные закуски', order: 1 },\n          { id: 2, key: 'salads', name: 'Салаты', order: 2 },\n          { id: 3, key: 'hot', name: 'Горячие блюда', order: 3 },\n          { id: 4, key: 'drinks', name: 'Напитки', order: 4 }\n        ]);\n      }\n    };\n\n    loadMenuFromFile();\n  }, []);\n\n  const toggleExpand = (itemId) => {\n    setExpandedItem(expandedItem === itemId ? null : itemId);\n  };\n\n  const formatPrice = (price) => {\n    const priceNum = parseInt(price);\n    return isNaN(priceNum) ? '0 ₽' : `${priceNum} ₽`;\n  };\n\n  const handleImageError = (e) => {\n    e.target.src = 'https://via.placeholder.com/300x200/8B7355/FFFFFF?text=Тбилиси';\n  };\n\n  // Группируем блюда по категориям\n  const categorizedItems = categories.map(category => ({\n    category,\n    items: menuItems.filter(item => item.category === category.key)\n  })).filter(group => group.items.length > 0);\n\n  // Отслеживание скролла для определения активной категории\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const isMobile = window.innerWidth <= 768;\n      \n      // Показываем панель категорий после скролла вниз (только на мобильных)\n      if (isMobile) {\n        const shouldShow = scrollY > 200;\n        setShowCategoryBar(shouldShow);\n        // Скрываем Header при показе панели категорий\n        const header = document.querySelector('.header');\n        if (header) {\n          if (shouldShow) {\n            header.style.transform = 'translateY(-100%)';\n          } else {\n            header.style.transform = 'translateY(0)';\n          }\n        }\n      } else {\n        setShowCategoryBar(false);\n        // Показываем Header на десктопе\n        const header = document.querySelector('.header');\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      }\n      \n      // Определяем активную категорию на основе позиции скролла\n      let currentActive = null;\n      const offset = isMobile ? 100 : 150; // Отступ для определения активной категории\n      \n      categorizedItems.forEach(({ category }) => {\n        const element = categoryRefs.current[category.id];\n        if (element) {\n          const rect = element.getBoundingClientRect();\n          if (rect.top <= offset && rect.bottom > offset) {\n            currentActive = category.id;\n          }\n        }\n      });\n      \n      // Если мы в самом верху, выбираем первую категорию\n      if (scrollY < 100 && categorizedItems.length > 0) {\n        currentActive = categorizedItems[0].category.id;\n      }\n      \n      if (currentActive !== activeCategory) {\n        setActiveCategory(currentActive);\n        \n        // Автоматический скролл кнопок в панели, чтобы активная была по центру или левее центра (только на мобильных)\n        if (isMobile && activeButtonRef.current && categoryBarRef.current) {\n          // Используем setTimeout для того, чтобы дать время на обновление DOM\n          setTimeout(() => {\n            if (activeButtonRef.current && categoryBarRef.current) {\n              const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n              if (scrollContainer) {\n                const button = activeButtonRef.current;\n                const containerRect = scrollContainer.getBoundingClientRect();\n                const buttonRect = button.getBoundingClientRect();\n                \n                // Вычисляем позицию, чтобы кнопка была по центру или левее центра (примерно на 1/3 от центра)\n                const containerCenter = containerRect.width / 2;\n                const targetPosition = containerCenter - (containerRect.width / 3); // Позиция левее центра\n                const buttonLeft = button.offsetLeft; // Позиция кнопки относительно контейнера\n                const scrollOffset = buttonLeft - targetPosition;\n                \n                scrollContainer.scrollTo({\n                  left: Math.max(0, scrollOffset), // Не скроллим в отрицательную сторону\n                  behavior: 'smooth'\n                });\n              }\n            }\n          }, 100);\n        }\n      }\n    };\n\n    const handleResize = () => {\n      // При изменении размера окна проверяем, нужно ли показывать панель\n      const header = document.querySelector('.header');\n      if (window.innerWidth > 768) {\n        setShowCategoryBar(false);\n        // Показываем Header на десктопе\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      } else {\n        handleScroll();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    window.addEventListener('resize', handleResize);\n    handleScroll(); // Вызываем сразу для начального состояния\n    \n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', handleResize);\n      // Восстанавливаем Header при размонтировании\n      const header = document.querySelector('.header');\n      if (header) {\n        header.style.transform = 'translateY(0)';\n      }\n    };\n  }, [categorizedItems, activeCategory]);\n\n  // Функция для скролла к категории\n  const scrollToCategory = (categoryId) => {\n    const element = categoryRefs.current[categoryId];\n    if (element) {\n      const offset = 80; // Отступ сверху для панели категорий\n      const elementPosition = element.getBoundingClientRect().top + window.scrollY;\n      const offsetPosition = elementPosition - offset;\n      \n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n      \n      setActiveCategory(categoryId);\n      \n      // Автоматический скролл кнопок в панели при клике (только на мобильных)\n      if (window.innerWidth <= 768 && categoryBarRef.current) {\n        setTimeout(() => {\n          const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n          // Находим кнопку по categoryId\n          const button = scrollContainer?.querySelector(`[data-category-id=\"${categoryId}\"]`);\n          if (scrollContainer && button) {\n            const containerRect = scrollContainer.getBoundingClientRect();\n            const buttonRect = button.getBoundingClientRect();\n            \n            // Вычисляем позицию, чтобы кнопка была по центру или левее центра (примерно на 1/3 от центра)\n            const containerCenter = containerRect.width / 2;\n            const targetPosition = containerCenter - (containerRect.width / 3); // Позиция левее центра\n            const buttonLeft = button.offsetLeft; // Позиция кнопки относительно контейнера\n            const scrollOffset = buttonLeft - targetPosition;\n            \n            scrollContainer.scrollTo({\n              left: Math.max(0, scrollOffset), // Не скроллим в отрицательную сторону\n              behavior: 'smooth'\n            });\n          }\n        }, 150);\n      }\n    }\n  };\n\n  return (\n    <div className={`menu-page ${showCategoryBar ? 'category-bar-visible' : ''}`}>\n      {/* Панель категорий для мобильной версии */}\n      {categorizedItems.length > 0 && (\n        <div className={`category-bar ${showCategoryBar ? 'visible' : ''}`} ref={categoryBarRef}>\n          <div className=\"category-bar-scroll\">\n            {categorizedItems.map(({ category }) => (\n              <button\n                key={category.id}\n                ref={activeCategory === category.id ? activeButtonRef : null}\n                data-category-id={category.id}\n                className={`category-bar-button ${activeCategory === category.id ? 'active' : ''}`}\n                onClick={() => scrollToCategory(category.id)}\n              >\n                {category.name}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      <div className=\"container\">\n        <h1 className=\"menu-title\">Меню ресторана \"Тбилиси\"</h1>\n        \n        {categorizedItems.map(({ category, items }) => (\n          <section \n            key={category.id} \n            className=\"menu-category\"\n            ref={(el) => {\n              if (el) categoryRefs.current[category.id] = el;\n            }}\n          >\n            <h2 className=\"category-title\">{category.name}</h2>\n            <div className=\"menu-grid\">\n              {items.map(item => (\n                <div key={item.id} className=\"menu-item\">\n                  <div className=\"item-image\">\n                    <img \n                      src={item.image} \n                      alt={item.name}\n                      onError={handleImageError}\n                    />\n                  </div>\n                  <div className=\"item-content\">\n                    <div className=\"item-header\">\n                      <h3 className=\"item-name\">{item.name}</h3>\n                      <div className=\"item-price-weight\">\n                        <span className=\"item-price\">{formatPrice(item.price)}</span>\n                        <span className=\"item-weight\">· {item.weight}</span>\n                      </div>\n                    </div>\n                    <button \n                      className=\"details-btn\"\n                      onClick={() => toggleExpand(item.id)}\n                    >\n                      {expandedItem === item.id ? 'Скрыть' : 'Подробнее'}\n                    </button>\n                    {expandedItem === item.id && (\n                      <div className=\"item-description\">\n                        {item.description}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </section>\n        ))}\n        \n        {categorizedItems.length === 0 && (\n          <div className=\"empty-menu-message\">\n            <h2>Меню временно недоступно</h2>\n            <p>Пожалуйста, зайдите позже или свяжитесь с администратором</p>\n          </div>\n        )}\n      </div>\n    </div>\n  );\n};\n\nexport default Menu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}