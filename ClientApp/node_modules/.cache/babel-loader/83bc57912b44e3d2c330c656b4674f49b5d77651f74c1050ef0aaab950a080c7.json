{"ast":null,"code":"import React,{useState,useEffect,useRef,useLayoutEffect}from'react';import'./Menu.css';import{defaultMenu}from'../data/defaultMenu';import{loadMenu,loadCategories}from'../utils/fileStorage';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";const Menu=()=>{const[expandedItem,setExpandedItem]=useState(null);const[menuItems,setMenuItems]=useState([]);const[categories,setCategories]=useState([]);const[activeCategory,setActiveCategory]=useState(null);const[showCategoryBar,setShowCategoryBar]=useState(false);const categoryRefs=useRef({});const categoryBarRef=useRef(null);const activeButtonRef=useRef(null);const[selectedMenuItem,setSelectedMenuItem]=useState(null);const[menuItemPosition,setMenuItemPosition]=useState(null);const[isClosing,setIsClosing]=useState(false);const menuModalContentRef=useRef(null);useEffect(()=>{const loadMenuFromFile=async()=>{try{// –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞\nconst loadedCategories=await loadCategories();if(Array.isArray(loadedCategories)){// –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏)\n// –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\nloadedCategories.sort((a,b)=>a.order-b.order);setCategories(loadedCategories);if(loadedCategories.length===0){console.log('üì• Menu: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—É—Å—Ç—ã–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)');}}else{// –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤ (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω), –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n// (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª categories.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\nconsole.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');const defaultCategories=[{id:1,key:'cold',name:'–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏',order:1},{id:2,key:'salads',name:'–°–∞–ª–∞—Ç—ã',order:2},{id:3,key:'hot',name:'–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞',order:3},{id:4,key:'drinks',name:'–ù–∞–ø–∏—Ç–∫–∏',order:4}];setCategories(defaultCategories);}// –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é –∏–∑ —Ñ–∞–π–ª–∞\nconst loadedMenu=await loadMenu();if(Array.isArray(loadedMenu)){// –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–º–µ–Ω—é –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)\n// –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\nsetMenuItems(loadedMenu);if(loadedMenu.length===0){console.log('üì• Menu: –ú–µ–Ω—é –ø—É—Å—Ç–æ–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏)');}}else{// –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n// (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª menu.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\nconsole.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é');setMenuItems([...defaultMenu]);}}catch(error){console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é:',error);setMenuItems([...defaultMenu]);setCategories([{id:1,key:'cold',name:'–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏',order:1},{id:2,key:'salads',name:'–°–∞–ª–∞—Ç—ã',order:2},{id:3,key:'hot',name:'–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞',order:3},{id:4,key:'drinks',name:'–ù–∞–ø–∏—Ç–∫–∏',order:4}]);}};loadMenuFromFile();},[]);const toggleExpand=itemId=>{setExpandedItem(expandedItem===itemId?null:itemId);};const formatPrice=price=>{const priceNum=parseInt(price);return isNaN(priceNum)?'0 ‚ÇΩ':\"\".concat(priceNum,\" \\u20BD\");};const handleImageError=e=>{e.target.src='https://via.placeholder.com/300x200/8B7355/FFFFFF?text=–¢–±–∏–ª–∏—Å–∏';};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\nconst getScrollbarWidth=()=>{// –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\nconst outer=document.createElement('div');outer.style.visibility='hidden';outer.style.overflow='scroll';outer.style.msOverflowStyle='scrollbar';// –¥–ª—è IE\ndocument.body.appendChild(outer);const inner=document.createElement('div');outer.appendChild(inner);const scrollbarWidth=outer.offsetWidth-inner.offsetWidth;outer.parentNode.removeChild(outer);return scrollbarWidth;};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –∫–æ –≤—Å–µ–º fixed —ç–ª–µ–º–µ–Ω—Ç–∞–º\nconst applyScrollbarCompensation=scrollbarWidth=>{if(scrollbarWidth<=0)return;// –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è body –∏ html\ndocument.body.style.paddingRight=\"\".concat(scrollbarWidth,\"px\");document.documentElement.style.paddingRight=\"\".concat(scrollbarWidth,\"px\");// –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è –≤—Å–µ—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n// –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º\nconst selectors=['.header','.category-bar','.admin-link','.theme-switcher'];const elementsToCheck=new Set();// –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º\nselectors.forEach(selector=>{document.querySelectorAll(selector).forEach(el=>elementsToCheck.add(el));});// –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –Ω–∞—Ö–æ–¥–∏–º fixed\nelementsToCheck.forEach(element=>{const computedStyle=window.getComputedStyle(element);if(computedStyle.position==='fixed'){// –î–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å width: 100% –∏—Å–ø–æ–ª—å–∑—É–µ–º right –≤–º–µ—Å—Ç–æ padding-right\n// –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\nconst currentRight=computedStyle.right;const currentWidth=computedStyle.width;// –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è\nif(!element.dataset.originalRight){element.dataset.originalRight=currentRight;}if(!element.dataset.originalWidth){element.dataset.originalWidth=currentWidth;}// –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç width: 100% –∏–ª–∏ –±–ª–∏–∑–∫–æ –∫ —ç—Ç–æ–º—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º right\nif(currentWidth==='100%'||parseFloat(currentWidth)>=window.innerWidth-10){element.style.right=\"\".concat(scrollbarWidth,\"px\");}else{// –î–ª—è –¥—Ä—É–≥–∏—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º padding-right\nconst currentPaddingRight=computedStyle.paddingRight;const currentPaddingRightValue=parseFloat(currentPaddingRight)||0;element.style.paddingRight=\"\".concat(currentPaddingRightValue+scrollbarWidth,\"px\");if(!element.dataset.originalPaddingRight){element.dataset.originalPaddingRight=currentPaddingRight;}}}});};// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\nconst removeScrollbarCompensation=()=>{// –£–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å body –∏ html\ndocument.body.style.paddingRight='';document.documentElement.style.paddingRight='';// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\nconst fixedElements=document.querySelectorAll('[data-original-padding-right], [data-original-right]');fixedElements.forEach(element=>{// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º padding-right\nconst originalPadding=element.dataset.originalPaddingRight;if(originalPadding!==undefined){element.style.paddingRight=originalPadding;delete element.dataset.originalPaddingRight;}else if(element.style.paddingRight){element.style.paddingRight='';}// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º right\nconst originalRight=element.dataset.originalRight;if(originalRight!==undefined){element.style.right=originalRight;delete element.dataset.originalRight;}else if(element.style.right){element.style.right='';}});};// –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é\nconst handleMenuItemClick=(item,event)=>{// –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–ü–æ–¥—Ä–æ–±–Ω–µ–µ\" –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ item-content\nif(event.target.closest('.details-btn')||event.target.closest('.item-content')||event.target.closest('.item-header')||event.target.closest('.item-description')){return;}// –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞ —Å–∞–º—É –∫–∞—Ä—Ç–æ—á–∫—É (–Ω–æ –Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç)\nconst menuItem=event.currentTarget;const rect=menuItem.getBoundingClientRect();// –í—ã—á–∏—Å–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è\nconst maxWidth=Math.min(window.innerWidth*0.9,800);const scale=rect.width/maxWidth;// –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏ —Ä–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–µ–Ω—é\nconst position={x:rect.left+rect.width/2,// –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ X\ny:rect.top+rect.height/2,// –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ Y\nwidth:rect.width,height:rect.height,scale:scale// –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n};// –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é –∏ –ø–æ–∑–∏—Ü–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n// –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä—ã–≤–æ–∫ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ\nsetSelectedMenuItem(item);setMenuItemPosition(position);// –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—É —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —Å–∫—Ä–æ–ª–ª–∞\n// –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–¥–≤–∏–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\nconst scrollbarWidth=getScrollbarWidth();applyScrollbarCompensation(scrollbarWidth);// –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã\ndocument.body.style.overflow='hidden';};// –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π\nconst closeMenuItemModal=()=>{// –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–∫—Ä—ã—Ç–∏—è\nsetIsClosing(true);// –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è (0.4s) —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç\nsetTimeout(()=>{setSelectedMenuItem(null);setMenuItemPosition(null);setIsClosing(false);// –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\ndocument.body.style.overflow='';removeScrollbarCompensation();},400);// –í—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è\n};// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ transform –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\nuseLayoutEffect(()=>{if(selectedMenuItem&&menuItemPosition&&menuModalContentRef.current&&!isClosing){// –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\nconst maxWidth=Math.min(window.innerWidth*0.9,800);const scale=menuItemPosition.width/maxWidth;const translateX=menuItemPosition.x-window.innerWidth/2;const translateY=menuItemPosition.y-window.innerHeight/2;// –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º\n// –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä—ã–≤–æ–∫\nconst element=menuModalContentRef.current;element.style.transform=\"translate(\".concat(translateX,\"px, \").concat(translateY,\"px) scale(\").concat(scale,\")\");element.style.opacity='0.7';// –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\nrequestAnimationFrame(()=>{if(element&&!isClosing){element.style.animation='zoomInMenuItem 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards';}});}},[selectedMenuItem,menuItemPosition,isClosing]);// –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\nuseEffect(()=>{const handleEscape=e=>{if(e.key==='Escape'&&selectedMenuItem){closeMenuItemModal();}};window.addEventListener('keydown',handleEscape);return()=>window.removeEventListener('keydown',handleEscape);},[selectedMenuItem]);// –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –±–ª—é–¥–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\nconst categorizedItems=categories.map(category=>({category,items:menuItems.filter(item=>item.category===category.key)})).filter(group=>group.items.length>0);// –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\nuseEffect(()=>{const handleScroll=()=>{const scrollY=window.scrollY;const isMobile=window.innerWidth<=768;// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ—Å–ª–µ —Å–∫—Ä–æ–ª–ª–∞ –≤–Ω–∏–∑ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\nif(isMobile){const shouldShow=scrollY>200;setShowCategoryBar(shouldShow);// –°–∫—Ä—ã–≤–∞–µ–º Header –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\nconst header=document.querySelector('.header');if(header){if(shouldShow){header.style.transform='translateY(-100%)';}else{header.style.transform='translateY(0)';}}}else{setShowCategoryBar(false);// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\nconst header=document.querySelector('.header');if(header){header.style.transform='translateY(0)';}}// –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞\nlet currentActive=null;const offset=isMobile?100:150;// –û—Ç—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\ncategorizedItems.forEach(_ref=>{let{category}=_ref;const element=categoryRefs.current[category.id];if(element){const rect=element.getBoundingClientRect();if(rect.top<=offset&&rect.bottom>offset){currentActive=category.id;}}});// –ï—Å–ª–∏ –º—ã –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É, –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\nif(scrollY<100&&categorizedItems.length>0){currentActive=categorizedItems[0].category.id;}if(currentActive!==activeCategory){setActiveCategory(currentActive);// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–Ω–∞—è –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\nif(isMobile&&activeButtonRef.current&&categoryBarRef.current){// –ò—Å–ø–æ–ª—å–∑—É–µ–º setTimeout –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM\nsetTimeout(()=>{if(activeButtonRef.current&&categoryBarRef.current){const scrollContainer=categoryBarRef.current.querySelector('.category-bar-scroll');if(scrollContainer){const button=activeButtonRef.current;const containerRect=scrollContainer.getBoundingClientRect();const buttonRect=button.getBoundingClientRect();// –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\nconst containerCenter=containerRect.width/2;const targetPosition=containerCenter-containerRect.width/3;// –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\nconst buttonLeft=button.offsetLeft;// –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\nconst scrollOffset=buttonLeft-targetPosition;scrollContainer.scrollTo({left:Math.max(0,scrollOffset),// –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\nbehavior:'smooth'});}}},100);}}};const handleResize=()=>{// –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å\nconst header=document.querySelector('.header');if(window.innerWidth>768){setShowCategoryBar(false);// –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\nif(header){header.style.transform='translateY(0)';}}else{handleScroll();}};window.addEventListener('scroll',handleScroll,{passive:true});window.addEventListener('resize',handleResize);handleScroll();// –í—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\nreturn()=>{window.removeEventListener('scroll',handleScroll);window.removeEventListener('resize',handleResize);// –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Header –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\nconst header=document.querySelector('.header');if(header){header.style.transform='translateY(0)';}};},[categorizedItems,activeCategory]);// –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\nconst scrollToCategory=categoryId=>{const element=categoryRefs.current[categoryId];if(element){const offset=80;// –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\nconst elementPosition=element.getBoundingClientRect().top+window.scrollY;const offsetPosition=elementPosition-offset;window.scrollTo({top:offsetPosition,behavior:'smooth'});setActiveCategory(categoryId);// –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\nif(window.innerWidth<=768&&categoryBarRef.current){setTimeout(()=>{const scrollContainer=categoryBarRef.current.querySelector('.category-bar-scroll');// –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É –ø–æ categoryId\nconst button=scrollContainer===null||scrollContainer===void 0?void 0:scrollContainer.querySelector(\"[data-category-id=\\\"\".concat(categoryId,\"\\\"]\"));if(scrollContainer&&button){const containerRect=scrollContainer.getBoundingClientRect();const buttonRect=button.getBoundingClientRect();// –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\nconst containerCenter=containerRect.width/2;const targetPosition=containerCenter-containerRect.width/3;// –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\nconst buttonLeft=button.offsetLeft;// –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\nconst scrollOffset=buttonLeft-targetPosition;scrollContainer.scrollTo({left:Math.max(0,scrollOffset),// –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\nbehavior:'smooth'});}},150);}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"menu-page \".concat(showCategoryBar?'category-bar-visible':''),children:[categorizedItems.length>0&&/*#__PURE__*/_jsx(\"div\",{className:\"category-bar \".concat(showCategoryBar?'visible':''),ref:categoryBarRef,children:/*#__PURE__*/_jsx(\"div\",{className:\"category-bar-scroll\",children:categorizedItems.map(_ref2=>{let{category}=_ref2;return/*#__PURE__*/_jsx(\"button\",{ref:activeCategory===category.id?activeButtonRef:null,\"data-category-id\":category.id,className:\"category-bar-button \".concat(activeCategory===category.id?'active':''),onClick:()=>scrollToCategory(category.id),children:category.name},category.id);})})}),/*#__PURE__*/_jsxs(\"div\",{className:\"container\",children:[/*#__PURE__*/_jsx(\"h1\",{className:\"menu-title\",children:\"\\u041C\\u0435\\u043D\\u044E \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0430 \\\"\\u0422\\u0431\\u0438\\u043B\\u0438\\u0441\\u0438\\\"\"}),categorizedItems.map(_ref3=>{let{category,items}=_ref3;return/*#__PURE__*/_jsxs(\"section\",{className:\"menu-category\",ref:el=>{if(el)categoryRefs.current[category.id]=el;},children:[/*#__PURE__*/_jsx(\"h2\",{className:\"category-title\",children:category.name}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-grid\",children:items.map(item=>/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item\",onClick:e=>handleMenuItemClick(item,e),style:{cursor:'pointer'},children:[/*#__PURE__*/_jsx(\"div\",{className:\"item-image\",children:/*#__PURE__*/_jsx(\"img\",{src:item.image,alt:item.name,onError:handleImageError})}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-content\",children:[/*#__PURE__*/_jsxs(\"div\",{className:\"item-header\",children:[/*#__PURE__*/_jsx(\"h3\",{className:\"item-name\",children:item.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"item-price-weight\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"item-price\",children:formatPrice(item.price)}),/*#__PURE__*/_jsxs(\"span\",{className:\"item-weight\",children:[\"\\xB7 \",item.weight]})]})]}),/*#__PURE__*/_jsx(\"button\",{className:\"details-btn\",onClick:e=>{e.stopPropagation();toggleExpand(item.id);},children:expandedItem===item.id?'–°–∫—Ä—ã—Ç—å':'–ü–æ–¥—Ä–æ–±–Ω–µ–µ'}),expandedItem===item.id&&/*#__PURE__*/_jsx(\"div\",{className:\"item-description\",children:item.description})]})]},item.id))})]},category.id);}),categorizedItems.length===0&&/*#__PURE__*/_jsxs(\"div\",{className:\"empty-menu-message\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u041C\\u0435\\u043D\\u044E \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\"}),/*#__PURE__*/_jsx(\"p\",{children:\"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0437\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435 \\u0438\\u043B\\u0438 \\u0441\\u0432\\u044F\\u0436\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u043E\\u043C\"})]})]}),selectedMenuItem&&menuItemPosition&&/*#__PURE__*/_jsx(\"div\",{className:\"menu-item-modal-overlay \".concat(isClosing?'closing':''),onClick:closeMenuItemModal,children:/*#__PURE__*/_jsxs(\"div\",{ref:menuModalContentRef,className:\"menu-item-modal-content \".concat(isClosing?'closing':''),onClick:e=>e.stopPropagation(),style:{'--initial-x':\"\".concat(menuItemPosition.x,\"px\"),'--initial-y':\"\".concat(menuItemPosition.y,\"px\"),'--initial-width':\"\".concat(menuItemPosition.width,\"px\"),'--initial-height':\"\".concat(menuItemPosition.height,\"px\")},children:[/*#__PURE__*/_jsx(\"button\",{className:\"menu-item-modal-close\",onClick:closeMenuItemModal,\"aria-label\":\"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",children:\"\\xD7\"}),/*#__PURE__*/_jsx(\"div\",{className:\"menu-item-modal-image-container\",children:/*#__PURE__*/_jsx(\"img\",{src:selectedMenuItem.image,alt:selectedMenuItem.name,className:\"menu-item-modal-image\",onError:handleImageError})}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item-modal-info\",children:[/*#__PURE__*/_jsx(\"h2\",{className:\"menu-item-modal-name\",children:selectedMenuItem.name}),/*#__PURE__*/_jsxs(\"div\",{className:\"menu-item-modal-price-weight\",children:[/*#__PURE__*/_jsx(\"span\",{className:\"menu-item-modal-price\",children:formatPrice(selectedMenuItem.price)}),/*#__PURE__*/_jsxs(\"span\",{className:\"menu-item-modal-weight\",children:[\"\\xB7 \",selectedMenuItem.weight]})]}),selectedMenuItem.description&&/*#__PURE__*/_jsx(\"p\",{className:\"menu-item-modal-description\",children:selectedMenuItem.description})]})]})})]});};export default Menu;","map":{"version":3,"names":["React","useState","useEffect","useRef","useLayoutEffect","defaultMenu","loadMenu","loadCategories","jsx","_jsx","jsxs","_jsxs","Menu","expandedItem","setExpandedItem","menuItems","setMenuItems","categories","setCategories","activeCategory","setActiveCategory","showCategoryBar","setShowCategoryBar","categoryRefs","categoryBarRef","activeButtonRef","selectedMenuItem","setSelectedMenuItem","menuItemPosition","setMenuItemPosition","isClosing","setIsClosing","menuModalContentRef","loadMenuFromFile","loadedCategories","Array","isArray","sort","a","b","order","length","console","log","defaultCategories","id","key","name","loadedMenu","error","toggleExpand","itemId","formatPrice","price","priceNum","parseInt","isNaN","concat","handleImageError","e","target","src","getScrollbarWidth","outer","document","createElement","style","visibility","overflow","msOverflowStyle","body","appendChild","inner","scrollbarWidth","offsetWidth","parentNode","removeChild","applyScrollbarCompensation","paddingRight","documentElement","selectors","elementsToCheck","Set","forEach","selector","querySelectorAll","el","add","element","computedStyle","window","getComputedStyle","position","currentRight","right","currentWidth","width","dataset","originalRight","originalWidth","parseFloat","innerWidth","currentPaddingRight","currentPaddingRightValue","originalPaddingRight","removeScrollbarCompensation","fixedElements","originalPadding","undefined","handleMenuItemClick","item","event","closest","menuItem","currentTarget","rect","getBoundingClientRect","maxWidth","Math","min","scale","x","left","y","top","height","closeMenuItemModal","setTimeout","current","translateX","translateY","innerHeight","transform","opacity","requestAnimationFrame","animation","handleEscape","addEventListener","removeEventListener","categorizedItems","map","category","items","filter","group","handleScroll","scrollY","isMobile","shouldShow","header","querySelector","currentActive","offset","_ref","bottom","scrollContainer","button","containerRect","buttonRect","containerCenter","targetPosition","buttonLeft","offsetLeft","scrollOffset","scrollTo","max","behavior","handleResize","passive","scrollToCategory","categoryId","elementPosition","offsetPosition","className","children","ref","_ref2","onClick","_ref3","cursor","image","alt","onError","weight","stopPropagation","description"],"sources":["C:/restaurant-website (2)/restaurant-website/Backend/ClientApp/src/pages/Menu.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useLayoutEffect } from 'react';\nimport './Menu.css';\nimport { defaultMenu } from '../data/defaultMenu';\nimport { loadMenu, loadCategories } from '../utils/fileStorage';\n\nconst Menu = () => {\n  const [expandedItem, setExpandedItem] = useState(null);\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [activeCategory, setActiveCategory] = useState(null);\n  const [showCategoryBar, setShowCategoryBar] = useState(false);\n  const categoryRefs = useRef({});\n  const categoryBarRef = useRef(null);\n  const activeButtonRef = useRef(null);\n  const [selectedMenuItem, setSelectedMenuItem] = useState(null);\n  const [menuItemPosition, setMenuItemPosition] = useState(null);\n  const [isClosing, setIsClosing] = useState(false);\n  const menuModalContentRef = useRef(null);\n\n  useEffect(() => {\n    const loadMenuFromFile = async () => {\n      try {\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞\n        const loadedCategories = await loadCategories();\n        if (Array.isArray(loadedCategories)) {\n          // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏)\n          // –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\n          loadedCategories.sort((a, b) => a.order - b.order);\n          setCategories(loadedCategories);\n          if (loadedCategories.length === 0) {\n            console.log('üì• Menu: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—É—Å—Ç—ã–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)');\n          }\n        } else {\n          // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤ (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω), –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n          // (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª categories.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\n          console.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');\n          const defaultCategories = [\n            { id: 1, key: 'cold', name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏', order: 1 },\n            { id: 2, key: 'salads', name: '–°–∞–ª–∞—Ç—ã', order: 2 },\n            { id: 3, key: 'hot', name: '–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞', order: 3 },\n            { id: 4, key: 'drinks', name: '–ù–∞–ø–∏—Ç–∫–∏', order: 4 }\n          ];\n          setCategories(defaultCategories);\n        }\n\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é –∏–∑ —Ñ–∞–π–ª–∞\n        const loadedMenu = await loadMenu();\n        if (Array.isArray(loadedMenu)) {\n          // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–º–µ–Ω—é –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)\n          // –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\n          setMenuItems(loadedMenu);\n          if (loadedMenu.length === 0) {\n            console.log('üì• Menu: –ú–µ–Ω—é –ø—É—Å—Ç–æ–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏)');\n          }\n        } else {\n          // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n          // (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª menu.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\n          console.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é');\n          setMenuItems([...defaultMenu]);\n        }\n      } catch (error) {\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é:', error);\n        setMenuItems([...defaultMenu]);\n        setCategories([\n          { id: 1, key: 'cold', name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏', order: 1 },\n          { id: 2, key: 'salads', name: '–°–∞–ª–∞—Ç—ã', order: 2 },\n          { id: 3, key: 'hot', name: '–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞', order: 3 },\n          { id: 4, key: 'drinks', name: '–ù–∞–ø–∏—Ç–∫–∏', order: 4 }\n        ]);\n      }\n    };\n\n    loadMenuFromFile();\n  }, []);\n\n  const toggleExpand = (itemId) => {\n    setExpandedItem(expandedItem === itemId ? null : itemId);\n  };\n\n  const formatPrice = (price) => {\n    const priceNum = parseInt(price);\n    return isNaN(priceNum) ? '0 ‚ÇΩ' : `${priceNum} ‚ÇΩ`;\n  };\n\n  const handleImageError = (e) => {\n    e.target.src = 'https://via.placeholder.com/300x200/8B7355/FFFFFF?text=–¢–±–∏–ª–∏—Å–∏';\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n  const getScrollbarWidth = () => {\n    // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.overflow = 'scroll';\n    outer.style.msOverflowStyle = 'scrollbar'; // –¥–ª—è IE\n    document.body.appendChild(outer);\n    \n    const inner = document.createElement('div');\n    outer.appendChild(inner);\n    \n    const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n    \n    outer.parentNode.removeChild(outer);\n    \n    return scrollbarWidth;\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –∫–æ –≤—Å–µ–º fixed —ç–ª–µ–º–µ–Ω—Ç–∞–º\n  const applyScrollbarCompensation = (scrollbarWidth) => {\n    if (scrollbarWidth <= 0) return;\n    \n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è body –∏ html\n    document.body.style.paddingRight = `${scrollbarWidth}px`;\n    document.documentElement.style.paddingRight = `${scrollbarWidth}px`;\n    \n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è –≤—Å–µ—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n    // –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º\n    const selectors = ['.header', '.category-bar', '.admin-link', '.theme-switcher'];\n    const elementsToCheck = new Set();\n    \n    // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º\n    selectors.forEach(selector => {\n      document.querySelectorAll(selector).forEach(el => elementsToCheck.add(el));\n    });\n    \n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –Ω–∞—Ö–æ–¥–∏–º fixed\n    elementsToCheck.forEach(element => {\n      const computedStyle = window.getComputedStyle(element);\n      if (computedStyle.position === 'fixed') {\n        // –î–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å width: 100% –∏—Å–ø–æ–ª—å–∑—É–µ–º right –≤–º–µ—Å—Ç–æ padding-right\n        // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n        const currentRight = computedStyle.right;\n        const currentWidth = computedStyle.width;\n        \n        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è\n        if (!element.dataset.originalRight) {\n          element.dataset.originalRight = currentRight;\n        }\n        if (!element.dataset.originalWidth) {\n          element.dataset.originalWidth = currentWidth;\n        }\n        \n        // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç width: 100% –∏–ª–∏ –±–ª–∏–∑–∫–æ –∫ —ç—Ç–æ–º—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º right\n        if (currentWidth === '100%' || parseFloat(currentWidth) >= window.innerWidth - 10) {\n          element.style.right = `${scrollbarWidth}px`;\n        } else {\n          // –î–ª—è –¥—Ä—É–≥–∏—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º padding-right\n          const currentPaddingRight = computedStyle.paddingRight;\n          const currentPaddingRightValue = parseFloat(currentPaddingRight) || 0;\n          element.style.paddingRight = `${currentPaddingRightValue + scrollbarWidth}px`;\n          if (!element.dataset.originalPaddingRight) {\n            element.dataset.originalPaddingRight = currentPaddingRight;\n          }\n        }\n      }\n    });\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n  const removeScrollbarCompensation = () => {\n    // –£–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å body –∏ html\n    document.body.style.paddingRight = '';\n    document.documentElement.style.paddingRight = '';\n    \n    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n    const fixedElements = document.querySelectorAll('[data-original-padding-right], [data-original-right]');\n    fixedElements.forEach(element => {\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º padding-right\n      const originalPadding = element.dataset.originalPaddingRight;\n      if (originalPadding !== undefined) {\n        element.style.paddingRight = originalPadding;\n        delete element.dataset.originalPaddingRight;\n      } else if (element.style.paddingRight) {\n        element.style.paddingRight = '';\n      }\n      \n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º right\n      const originalRight = element.dataset.originalRight;\n      if (originalRight !== undefined) {\n        element.style.right = originalRight;\n        delete element.dataset.originalRight;\n      } else if (element.style.right) {\n        element.style.right = '';\n      }\n    });\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é\n  const handleMenuItemClick = (item, event) => {\n    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–ü–æ–¥—Ä–æ–±–Ω–µ–µ\" –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ item-content\n    if (event.target.closest('.details-btn') || \n        event.target.closest('.item-content') ||\n        event.target.closest('.item-header') ||\n        event.target.closest('.item-description')) {\n      return;\n    }\n    \n    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞ —Å–∞–º—É –∫–∞—Ä—Ç–æ—á–∫—É (–Ω–æ –Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç)\n    const menuItem = event.currentTarget;\n    const rect = menuItem.getBoundingClientRect();\n    \n    // –í—ã—á–∏—Å–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è\n    const maxWidth = Math.min(window.innerWidth * 0.9, 800);\n    const scale = rect.width / maxWidth;\n    \n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏ —Ä–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–µ–Ω—é\n    const position = {\n      x: rect.left + rect.width / 2, // –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ X\n      y: rect.top + rect.height / 2, // –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ Y\n      width: rect.width,\n      height: rect.height,\n      scale: scale // –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n    };\n    \n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é –∏ –ø–æ–∑–∏—Ü–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä—ã–≤–æ–∫ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ\n    setSelectedMenuItem(item);\n    setMenuItemPosition(position);\n    \n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—É —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —Å–∫—Ä–æ–ª–ª–∞\n    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–¥–≤–∏–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n    const scrollbarWidth = getScrollbarWidth();\n    applyScrollbarCompensation(scrollbarWidth);\n    \n    // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n    document.body.style.overflow = 'hidden';\n  };\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π\n  const closeMenuItemModal = () => {\n    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–∫—Ä—ã—Ç–∏—è\n    setIsClosing(true);\n    \n    // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è (0.4s) —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç\n    setTimeout(() => {\n      setSelectedMenuItem(null);\n      setMenuItemPosition(null);\n      setIsClosing(false);\n      // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n      document.body.style.overflow = '';\n      removeScrollbarCompensation();\n    }, 400); // –í—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è\n  };\n\n  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ transform –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n  useLayoutEffect(() => {\n    if (selectedMenuItem && menuItemPosition && menuModalContentRef.current && !isClosing) {\n      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\n      const maxWidth = Math.min(window.innerWidth * 0.9, 800);\n      const scale = menuItemPosition.width / maxWidth;\n      const translateX = menuItemPosition.x - window.innerWidth / 2;\n      const translateY = menuItemPosition.y - window.innerHeight / 2;\n      \n      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º\n      // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä—ã–≤–æ–∫\n      const element = menuModalContentRef.current;\n      element.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;\n      element.style.opacity = '0.7';\n      \n      // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n      requestAnimationFrame(() => {\n        if (element && !isClosing) {\n          element.style.animation = 'zoomInMenuItem 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards';\n        }\n      });\n    }\n  }, [selectedMenuItem, menuItemPosition, isClosing]);\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape' && selectedMenuItem) {\n        closeMenuItemModal();\n      }\n    };\n    \n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [selectedMenuItem]);\n\n  // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –±–ª—é–¥–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\n  const categorizedItems = categories.map(category => ({\n    category,\n    items: menuItems.filter(item => item.category === category.key)\n  })).filter(group => group.items.length > 0);\n\n  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const isMobile = window.innerWidth <= 768;\n      \n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ—Å–ª–µ —Å–∫—Ä–æ–ª–ª–∞ –≤–Ω–∏–∑ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n      if (isMobile) {\n        const shouldShow = scrollY > 200;\n        setShowCategoryBar(shouldShow);\n        // –°–∫—Ä—ã–≤–∞–µ–º Header –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n        const header = document.querySelector('.header');\n        if (header) {\n          if (shouldShow) {\n            header.style.transform = 'translateY(-100%)';\n          } else {\n            header.style.transform = 'translateY(0)';\n          }\n        }\n      } else {\n        setShowCategoryBar(false);\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\n        const header = document.querySelector('.header');\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      }\n      \n      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞\n      let currentActive = null;\n      const offset = isMobile ? 100 : 150; // –û—Ç—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n      \n      categorizedItems.forEach(({ category }) => {\n        const element = categoryRefs.current[category.id];\n        if (element) {\n          const rect = element.getBoundingClientRect();\n          if (rect.top <= offset && rect.bottom > offset) {\n            currentActive = category.id;\n          }\n        }\n      });\n      \n      // –ï—Å–ª–∏ –º—ã –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É, –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      if (scrollY < 100 && categorizedItems.length > 0) {\n        currentActive = categorizedItems[0].category.id;\n      }\n      \n      if (currentActive !== activeCategory) {\n        setActiveCategory(currentActive);\n        \n        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–Ω–∞—è –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n        if (isMobile && activeButtonRef.current && categoryBarRef.current) {\n          // –ò—Å–ø–æ–ª—å–∑—É–µ–º setTimeout –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM\n          setTimeout(() => {\n            if (activeButtonRef.current && categoryBarRef.current) {\n              const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n              if (scrollContainer) {\n                const button = activeButtonRef.current;\n                const containerRect = scrollContainer.getBoundingClientRect();\n                const buttonRect = button.getBoundingClientRect();\n                \n                // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\n                const containerCenter = containerRect.width / 2;\n                const targetPosition = containerCenter - (containerRect.width / 3); // –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\n                const buttonLeft = button.offsetLeft; // –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n                const scrollOffset = buttonLeft - targetPosition;\n                \n                scrollContainer.scrollTo({\n                  left: Math.max(0, scrollOffset), // –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\n                  behavior: 'smooth'\n                });\n              }\n            }\n          }, 100);\n        }\n      }\n    };\n\n    const handleResize = () => {\n      // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å\n      const header = document.querySelector('.header');\n      if (window.innerWidth > 768) {\n        setShowCategoryBar(false);\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      } else {\n        handleScroll();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    window.addEventListener('resize', handleResize);\n    handleScroll(); // –í—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n    \n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', handleResize);\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Header –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n      const header = document.querySelector('.header');\n      if (header) {\n        header.style.transform = 'translateY(0)';\n      }\n    };\n  }, [categorizedItems, activeCategory]);\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  const scrollToCategory = (categoryId) => {\n    const element = categoryRefs.current[categoryId];\n    if (element) {\n      const offset = 80; // –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n      const elementPosition = element.getBoundingClientRect().top + window.scrollY;\n      const offsetPosition = elementPosition - offset;\n      \n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n      \n      setActiveCategory(categoryId);\n      \n      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n      if (window.innerWidth <= 768 && categoryBarRef.current) {\n        setTimeout(() => {\n          const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n          // –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É –ø–æ categoryId\n          const button = scrollContainer?.querySelector(`[data-category-id=\"${categoryId}\"]`);\n          if (scrollContainer && button) {\n            const containerRect = scrollContainer.getBoundingClientRect();\n            const buttonRect = button.getBoundingClientRect();\n            \n            // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\n            const containerCenter = containerRect.width / 2;\n            const targetPosition = containerCenter - (containerRect.width / 3); // –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\n            const buttonLeft = button.offsetLeft; // –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n            const scrollOffset = buttonLeft - targetPosition;\n            \n            scrollContainer.scrollTo({\n              left: Math.max(0, scrollOffset), // –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\n              behavior: 'smooth'\n            });\n          }\n        }, 150);\n      }\n    }\n  };\n\n  return (\n    <div className={`menu-page ${showCategoryBar ? 'category-bar-visible' : ''}`}>\n      {/* –ü–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ */}\n      {categorizedItems.length > 0 && (\n        <div className={`category-bar ${showCategoryBar ? 'visible' : ''}`} ref={categoryBarRef}>\n          <div className=\"category-bar-scroll\">\n            {categorizedItems.map(({ category }) => (\n              <button\n                key={category.id}\n                ref={activeCategory === category.id ? activeButtonRef : null}\n                data-category-id={category.id}\n                className={`category-bar-button ${activeCategory === category.id ? 'active' : ''}`}\n                onClick={() => scrollToCategory(category.id)}\n              >\n                {category.name}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      <div className=\"container\">\n        <h1 className=\"menu-title\">–ú–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ \"–¢–±–∏–ª–∏—Å–∏\"</h1>\n        \n        {categorizedItems.map(({ category, items }) => (\n          <section \n            key={category.id} \n            className=\"menu-category\"\n            ref={(el) => {\n              if (el) categoryRefs.current[category.id] = el;\n            }}\n          >\n            <h2 className=\"category-title\">{category.name}</h2>\n            <div className=\"menu-grid\">\n              {items.map(item => (\n                <div \n                  key={item.id} \n                  className=\"menu-item\"\n                  onClick={(e) => handleMenuItemClick(item, e)}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div className=\"item-image\">\n                    <img \n                      src={item.image} \n                      alt={item.name}\n                      onError={handleImageError}\n                    />\n                  </div>\n                  <div className=\"item-content\">\n                    <div className=\"item-header\">\n                      <h3 className=\"item-name\">{item.name}</h3>\n                      <div className=\"item-price-weight\">\n                        <span className=\"item-price\">{formatPrice(item.price)}</span>\n                        <span className=\"item-weight\">¬∑ {item.weight}</span>\n                      </div>\n                    </div>\n                    <button \n                      className=\"details-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        toggleExpand(item.id);\n                      }}\n                    >\n                      {expandedItem === item.id ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–¥—Ä–æ–±–Ω–µ–µ'}\n                    </button>\n                    {expandedItem === item.id && (\n                      <div className=\"item-description\">\n                        {item.description}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </section>\n        ))}\n        \n        {categorizedItems.length === 0 && (\n          <div className=\"empty-menu-message\">\n            <h2>–ú–µ–Ω—é –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</h2>\n            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–π–¥–∏—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</p>\n          </div>\n        )}\n      </div>\n\n      {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–µ–Ω—é */}\n      {selectedMenuItem && menuItemPosition && (\n        <div \n          className={`menu-item-modal-overlay ${isClosing ? 'closing' : ''}`}\n          onClick={closeMenuItemModal}\n        >\n          <div \n            ref={menuModalContentRef}\n            className={`menu-item-modal-content ${isClosing ? 'closing' : ''}`}\n            onClick={(e) => e.stopPropagation()}\n            style={{\n              '--initial-x': `${menuItemPosition.x}px`,\n              '--initial-y': `${menuItemPosition.y}px`,\n              '--initial-width': `${menuItemPosition.width}px`,\n              '--initial-height': `${menuItemPosition.height}px`\n            }}\n          >\n            <button className=\"menu-item-modal-close\" onClick={closeMenuItemModal} aria-label=\"–ó–∞–∫—Ä—ã—Ç—å\">\n              √ó\n            </button>\n            <div className=\"menu-item-modal-image-container\">\n              <img \n                src={selectedMenuItem.image} \n                alt={selectedMenuItem.name}\n                className=\"menu-item-modal-image\"\n                onError={handleImageError}\n              />\n            </div>\n            <div className=\"menu-item-modal-info\">\n              <h2 className=\"menu-item-modal-name\">{selectedMenuItem.name}</h2>\n              <div className=\"menu-item-modal-price-weight\">\n                <span className=\"menu-item-modal-price\">{formatPrice(selectedMenuItem.price)}</span>\n                <span className=\"menu-item-modal-weight\">¬∑ {selectedMenuItem.weight}</span>\n              </div>\n              {selectedMenuItem.description && (\n                <p className=\"menu-item-modal-description\">{selectedMenuItem.description}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Menu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}