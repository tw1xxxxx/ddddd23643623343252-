{"ast":null,"code":"var _jsxFileName = \"C:\\\\restaurant-website (2)\\\\restaurant-website\\\\Backend\\\\ClientApp\\\\src\\\\pages\\\\Menu.js\",\n  _s = $RefreshSig$();\nimport React, { useState, useEffect, useRef, useLayoutEffect } from 'react';\nimport './Menu.css';\nimport { defaultMenu } from '../data/defaultMenu';\nimport { loadMenu, loadCategories } from '../utils/fileStorage';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst Menu = () => {\n  _s();\n  const [expandedItem, setExpandedItem] = useState(null);\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [activeCategory, setActiveCategory] = useState(null);\n  const [showCategoryBar, setShowCategoryBar] = useState(false);\n  const categoryRefs = useRef({});\n  const categoryBarRef = useRef(null);\n  const activeButtonRef = useRef(null);\n  const [selectedMenuItem, setSelectedMenuItem] = useState(null);\n  const [menuItemPosition, setMenuItemPosition] = useState(null);\n  const [isClosing, setIsClosing] = useState(false);\n  const menuModalContentRef = useRef(null);\n  useEffect(() => {\n    const loadMenuFromFile = async () => {\n      try {\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞\n        const loadedCategories = await loadCategories();\n        if (Array.isArray(loadedCategories)) {\n          // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏)\n          // –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\n          loadedCategories.sort((a, b) => a.order - b.order);\n          setCategories(loadedCategories);\n          if (loadedCategories.length === 0) {\n            console.log('üì• Menu: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—É—Å—Ç—ã–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)');\n          }\n        } else {\n          // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤ (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω), –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n          // (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª categories.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\n          console.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');\n          const defaultCategories = [{\n            id: 1,\n            key: 'cold',\n            name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏',\n            order: 1\n          }, {\n            id: 2,\n            key: 'salads',\n            name: '–°–∞–ª–∞—Ç—ã',\n            order: 2\n          }, {\n            id: 3,\n            key: 'hot',\n            name: '–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞',\n            order: 3\n          }, {\n            id: 4,\n            key: 'drinks',\n            name: '–ù–∞–ø–∏—Ç–∫–∏',\n            order: 4\n          }];\n          setCategories(defaultCategories);\n        }\n\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é –∏–∑ —Ñ–∞–π–ª–∞\n        const loadedMenu = await loadMenu();\n        if (Array.isArray(loadedMenu)) {\n          // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–º–µ–Ω—é –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)\n          // –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\n          setMenuItems(loadedMenu);\n          if (loadedMenu.length === 0) {\n            console.log('üì• Menu: –ú–µ–Ω—é –ø—É—Å—Ç–æ–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏)');\n          }\n        } else {\n          // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n          // (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª menu.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\n          console.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é');\n          setMenuItems([...defaultMenu]);\n        }\n      } catch (error) {\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é:', error);\n        setMenuItems([...defaultMenu]);\n        setCategories([{\n          id: 1,\n          key: 'cold',\n          name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏',\n          order: 1\n        }, {\n          id: 2,\n          key: 'salads',\n          name: '–°–∞–ª–∞—Ç—ã',\n          order: 2\n        }, {\n          id: 3,\n          key: 'hot',\n          name: '–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞',\n          order: 3\n        }, {\n          id: 4,\n          key: 'drinks',\n          name: '–ù–∞–ø–∏—Ç–∫–∏',\n          order: 4\n        }]);\n      }\n    };\n    loadMenuFromFile();\n  }, []);\n  const toggleExpand = itemId => {\n    setExpandedItem(expandedItem === itemId ? null : itemId);\n  };\n  const formatPrice = price => {\n    const priceNum = parseInt(price);\n    return isNaN(priceNum) ? '0 ‚ÇΩ' : `${priceNum} ‚ÇΩ`;\n  };\n  const handleImageError = e => {\n    e.target.src = 'https://via.placeholder.com/300x200/8B7355/FFFFFF?text=–¢–±–∏–ª–∏—Å–∏';\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n  const getScrollbarWidth = () => {\n    // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.overflow = 'scroll';\n    outer.style.msOverflowStyle = 'scrollbar'; // –¥–ª—è IE\n    document.body.appendChild(outer);\n    const inner = document.createElement('div');\n    outer.appendChild(inner);\n    const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n    outer.parentNode.removeChild(outer);\n    return scrollbarWidth;\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –∫–æ –≤—Å–µ–º fixed —ç–ª–µ–º–µ–Ω—Ç–∞–º\n  const applyScrollbarCompensation = scrollbarWidth => {\n    if (scrollbarWidth <= 0) return;\n\n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è body –∏ html\n    document.body.style.paddingRight = `${scrollbarWidth}px`;\n    document.documentElement.style.paddingRight = `${scrollbarWidth}px`;\n\n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è –≤—Å–µ—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n    // –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º\n    const selectors = ['.header', '.category-bar', '.admin-link', '.theme-switcher'];\n    const elementsToCheck = new Set();\n\n    // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º\n    selectors.forEach(selector => {\n      document.querySelectorAll(selector).forEach(el => elementsToCheck.add(el));\n    });\n\n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –Ω–∞—Ö–æ–¥–∏–º fixed\n    elementsToCheck.forEach(element => {\n      const computedStyle = window.getComputedStyle(element);\n      if (computedStyle.position === 'fixed') {\n        // –î–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å width: 100% –∏—Å–ø–æ–ª—å–∑—É–µ–º right –≤–º–µ—Å—Ç–æ padding-right\n        // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n        const currentRight = computedStyle.right;\n        const currentWidth = computedStyle.width;\n\n        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è\n        if (!element.dataset.originalRight) {\n          element.dataset.originalRight = currentRight;\n        }\n        if (!element.dataset.originalWidth) {\n          element.dataset.originalWidth = currentWidth;\n        }\n\n        // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç width: 100% –∏–ª–∏ –±–ª–∏–∑–∫–æ –∫ —ç—Ç–æ–º—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º right\n        if (currentWidth === '100%' || parseFloat(currentWidth) >= window.innerWidth - 10) {\n          element.style.right = `${scrollbarWidth}px`;\n        } else {\n          // –î–ª—è –¥—Ä—É–≥–∏—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º padding-right\n          const currentPaddingRight = computedStyle.paddingRight;\n          const currentPaddingRightValue = parseFloat(currentPaddingRight) || 0;\n          element.style.paddingRight = `${currentPaddingRightValue + scrollbarWidth}px`;\n          if (!element.dataset.originalPaddingRight) {\n            element.dataset.originalPaddingRight = currentPaddingRight;\n          }\n        }\n      }\n    });\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n  const removeScrollbarCompensation = () => {\n    // –£–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å body –∏ html\n    document.body.style.paddingRight = '';\n    document.documentElement.style.paddingRight = '';\n\n    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n    const fixedElements = document.querySelectorAll('[data-original-padding-right], [data-original-right]');\n    fixedElements.forEach(element => {\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º padding-right\n      const originalPadding = element.dataset.originalPaddingRight;\n      if (originalPadding !== undefined) {\n        element.style.paddingRight = originalPadding;\n        delete element.dataset.originalPaddingRight;\n      } else if (element.style.paddingRight) {\n        element.style.paddingRight = '';\n      }\n\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º right\n      const originalRight = element.dataset.originalRight;\n      if (originalRight !== undefined) {\n        element.style.right = originalRight;\n        delete element.dataset.originalRight;\n      } else if (element.style.right) {\n        element.style.right = '';\n      }\n    });\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é\n  const handleMenuItemClick = (item, event) => {\n    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–ü–æ–¥—Ä–æ–±–Ω–µ–µ\" –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ item-content\n    if (event.target.closest('.details-btn') || event.target.closest('.item-content') || event.target.closest('.item-header') || event.target.closest('.item-description')) {\n      return;\n    }\n\n    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞ —Å–∞–º—É –∫–∞—Ä—Ç–æ—á–∫—É (–Ω–æ –Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç)\n    const menuItem = event.currentTarget;\n    const rect = menuItem.getBoundingClientRect();\n\n    // –í—ã—á–∏—Å–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è\n    const maxWidth = Math.min(window.innerWidth * 0.9, 800);\n    const scale = rect.width / maxWidth;\n\n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏ —Ä–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–µ–Ω—é\n    const position = {\n      x: rect.left + rect.width / 2,\n      // –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ X\n      y: rect.top + rect.height / 2,\n      // –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ Y\n      width: rect.width,\n      height: rect.height,\n      scale: scale // –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n    };\n\n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é –∏ –ø–æ–∑–∏—Ü–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä—ã–≤–æ–∫ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ\n    setSelectedMenuItem(item);\n    setMenuItemPosition(position);\n\n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—É —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —Å–∫—Ä–æ–ª–ª–∞\n    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–¥–≤–∏–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n    const scrollbarWidth = getScrollbarWidth();\n    applyScrollbarCompensation(scrollbarWidth);\n\n    // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n    document.body.style.overflow = 'hidden';\n  };\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π\n  const closeMenuItemModal = () => {\n    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–∫—Ä—ã—Ç–∏—è\n    setIsClosing(true);\n\n    // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è (0.4s) —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç\n    setTimeout(() => {\n      setSelectedMenuItem(null);\n      setMenuItemPosition(null);\n      setIsClosing(false);\n      // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n      document.body.style.overflow = '';\n      removeScrollbarCompensation();\n    }, 400); // –í—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è\n  };\n\n  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ transform –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n  useLayoutEffect(() => {\n    if (selectedMenuItem && menuItemPosition && menuModalContentRef.current && !isClosing) {\n      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\n      const maxWidth = Math.min(window.innerWidth * 0.9, 800);\n      const scale = menuItemPosition.width / maxWidth;\n      const translateX = menuItemPosition.x - window.innerWidth / 2;\n      const translateY = menuItemPosition.y - window.innerHeight / 2;\n\n      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º\n      // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä—ã–≤–æ–∫\n      const element = menuModalContentRef.current;\n      element.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;\n      element.style.opacity = '0.7';\n\n      // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n      requestAnimationFrame(() => {\n        if (element && !isClosing) {\n          element.style.animation = 'zoomInMenuItem 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards';\n        }\n      });\n    }\n  }, [selectedMenuItem, menuItemPosition, isClosing]);\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\n  useEffect(() => {\n    const handleEscape = e => {\n      if (e.key === 'Escape' && selectedMenuItem) {\n        closeMenuItemModal();\n      }\n    };\n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [selectedMenuItem]);\n\n  // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –±–ª—é–¥–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\n  const categorizedItems = categories.map(category => ({\n    category,\n    items: menuItems.filter(item => item.category === category.key)\n  })).filter(group => group.items.length > 0);\n\n  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const isMobile = window.innerWidth <= 768;\n\n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ—Å–ª–µ —Å–∫—Ä–æ–ª–ª–∞ –≤–Ω–∏–∑ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n      if (isMobile) {\n        const shouldShow = scrollY > 200;\n        setShowCategoryBar(shouldShow);\n        // –°–∫—Ä—ã–≤–∞–µ–º Header –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n        const header = document.querySelector('.header');\n        if (header) {\n          if (shouldShow) {\n            header.style.transform = 'translateY(-100%)';\n          } else {\n            header.style.transform = 'translateY(0)';\n          }\n        }\n      } else {\n        setShowCategoryBar(false);\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\n        const header = document.querySelector('.header');\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      }\n\n      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞\n      let currentActive = null;\n      const offset = isMobile ? 100 : 150; // –û—Ç—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n\n      categorizedItems.forEach(({\n        category\n      }) => {\n        const element = categoryRefs.current[category.id];\n        if (element) {\n          const rect = element.getBoundingClientRect();\n          if (rect.top <= offset && rect.bottom > offset) {\n            currentActive = category.id;\n          }\n        }\n      });\n\n      // –ï—Å–ª–∏ –º—ã –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É, –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      if (scrollY < 100 && categorizedItems.length > 0) {\n        currentActive = categorizedItems[0].category.id;\n      }\n      if (currentActive !== activeCategory) {\n        setActiveCategory(currentActive);\n\n        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–Ω–∞—è –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n        if (isMobile && activeButtonRef.current && categoryBarRef.current) {\n          // –ò—Å–ø–æ–ª—å–∑—É–µ–º setTimeout –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM\n          setTimeout(() => {\n            if (activeButtonRef.current && categoryBarRef.current) {\n              const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n              if (scrollContainer) {\n                const button = activeButtonRef.current;\n                const containerRect = scrollContainer.getBoundingClientRect();\n                const buttonRect = button.getBoundingClientRect();\n\n                // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\n                const containerCenter = containerRect.width / 2;\n                const targetPosition = containerCenter - containerRect.width / 3; // –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\n                const buttonLeft = button.offsetLeft; // –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n                const scrollOffset = buttonLeft - targetPosition;\n                scrollContainer.scrollTo({\n                  left: Math.max(0, scrollOffset),\n                  // –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\n                  behavior: 'smooth'\n                });\n              }\n            }\n          }, 100);\n        }\n      }\n    };\n    const handleResize = () => {\n      // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å\n      const header = document.querySelector('.header');\n      if (window.innerWidth > 768) {\n        setShowCategoryBar(false);\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      } else {\n        handleScroll();\n      }\n    };\n    window.addEventListener('scroll', handleScroll, {\n      passive: true\n    });\n    window.addEventListener('resize', handleResize);\n    handleScroll(); // –í—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n\n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', handleResize);\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Header –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n      const header = document.querySelector('.header');\n      if (header) {\n        header.style.transform = 'translateY(0)';\n      }\n    };\n  }, [categorizedItems, activeCategory]);\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  const scrollToCategory = categoryId => {\n    const element = categoryRefs.current[categoryId];\n    if (element) {\n      const offset = 80; // –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n      const elementPosition = element.getBoundingClientRect().top + window.scrollY;\n      const offsetPosition = elementPosition - offset;\n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n      setActiveCategory(categoryId);\n\n      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n      if (window.innerWidth <= 768 && categoryBarRef.current) {\n        setTimeout(() => {\n          const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n          // –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É –ø–æ categoryId\n          const button = scrollContainer === null || scrollContainer === void 0 ? void 0 : scrollContainer.querySelector(`[data-category-id=\"${categoryId}\"]`);\n          if (scrollContainer && button) {\n            const containerRect = scrollContainer.getBoundingClientRect();\n            const buttonRect = button.getBoundingClientRect();\n\n            // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\n            const containerCenter = containerRect.width / 2;\n            const targetPosition = containerCenter - containerRect.width / 3; // –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\n            const buttonLeft = button.offsetLeft; // –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n            const scrollOffset = buttonLeft - targetPosition;\n            scrollContainer.scrollTo({\n              left: Math.max(0, scrollOffset),\n              // –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\n              behavior: 'smooth'\n            });\n          }\n        }, 150);\n      }\n    }\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: `menu-page ${showCategoryBar ? 'category-bar-visible' : ''}`,\n    children: [categorizedItems.length > 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `category-bar ${showCategoryBar ? 'visible' : ''}`,\n      ref: categoryBarRef,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"category-bar-scroll\",\n        children: categorizedItems.map(({\n          category\n        }) => /*#__PURE__*/_jsxDEV(\"button\", {\n          ref: activeCategory === category.id ? activeButtonRef : null,\n          \"data-category-id\": category.id,\n          className: `category-bar-button ${activeCategory === category.id ? 'active' : ''}`,\n          onClick: () => scrollToCategory(category.id),\n          children: category.name\n        }, category.id, false, {\n          fileName: _jsxFileName,\n          lineNumber: 442,\n          columnNumber: 15\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 440,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 439,\n      columnNumber: 9\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"container\",\n      children: [/*#__PURE__*/_jsxDEV(\"h1\", {\n        className: \"menu-title\",\n        children: \"\\u041C\\u0435\\u043D\\u044E \\u0440\\u0435\\u0441\\u0442\\u043E\\u0440\\u0430\\u043D\\u0430 \\\"\\u0422\\u0431\\u0438\\u043B\\u0438\\u0441\\u0438\\\"\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 457,\n        columnNumber: 9\n      }, this), categorizedItems.map(({\n        category,\n        items\n      }) => /*#__PURE__*/_jsxDEV(\"section\", {\n        className: \"menu-category\",\n        ref: el => {\n          if (el) categoryRefs.current[category.id] = el;\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          className: \"category-title\",\n          children: category.name\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 467,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-grid\",\n          children: items.map(item => /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-item\",\n            onClick: e => handleMenuItemClick(item, e),\n            style: {\n              cursor: 'pointer'\n            },\n            children: [/*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-image\",\n              children: /*#__PURE__*/_jsxDEV(\"img\", {\n                src: item.image,\n                alt: item.name,\n                onError: handleImageError\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 477,\n                columnNumber: 21\n              }, this)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 476,\n              columnNumber: 19\n            }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n              className: \"item-content\",\n              children: [/*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-header\",\n                children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n                  className: \"item-name\",\n                  children: item.name\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 485,\n                  columnNumber: 23\n                }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n                  className: \"item-price-weight\",\n                  children: [/*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-price\",\n                    children: formatPrice(item.price)\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 487,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n                    className: \"item-weight\",\n                    children: [\"\\xB7 \", item.weight]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 488,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true, {\n                  fileName: _jsxFileName,\n                  lineNumber: 486,\n                  columnNumber: 23\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 484,\n                columnNumber: 21\n              }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n                className: \"details-btn\",\n                onClick: e => {\n                  e.stopPropagation();\n                  toggleExpand(item.id);\n                },\n                children: expandedItem === item.id ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–¥—Ä–æ–±–Ω–µ–µ'\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 491,\n                columnNumber: 21\n              }, this), expandedItem === item.id && /*#__PURE__*/_jsxDEV(\"div\", {\n                className: \"item-description\",\n                children: item.description\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 501,\n                columnNumber: 23\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 483,\n              columnNumber: 19\n            }, this)]\n          }, item.id, true, {\n            fileName: _jsxFileName,\n            lineNumber: 470,\n            columnNumber: 17\n          }, this))\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 468,\n          columnNumber: 13\n        }, this)]\n      }, category.id, true, {\n        fileName: _jsxFileName,\n        lineNumber: 460,\n        columnNumber: 11\n      }, this)), categorizedItems.length === 0 && /*#__PURE__*/_jsxDEV(\"div\", {\n        className: \"empty-menu-message\",\n        children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n          children: \"\\u041C\\u0435\\u043D\\u044E \\u0432\\u0440\\u0435\\u043C\\u0435\\u043D\\u043D\\u043E \\u043D\\u0435\\u0434\\u043E\\u0441\\u0442\\u0443\\u043F\\u043D\\u043E\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 514,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n          children: \"\\u041F\\u043E\\u0436\\u0430\\u043B\\u0443\\u0439\\u0441\\u0442\\u0430, \\u0437\\u0430\\u0439\\u0434\\u0438\\u0442\\u0435 \\u043F\\u043E\\u0437\\u0436\\u0435 \\u0438\\u043B\\u0438 \\u0441\\u0432\\u044F\\u0436\\u0438\\u0442\\u0435\\u0441\\u044C \\u0441 \\u0430\\u0434\\u043C\\u0438\\u043D\\u0438\\u0441\\u0442\\u0440\\u0430\\u0442\\u043E\\u0440\\u043E\\u043C\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 515,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 513,\n        columnNumber: 11\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 456,\n      columnNumber: 7\n    }, this), selectedMenuItem && menuItemPosition && /*#__PURE__*/_jsxDEV(\"div\", {\n      className: `menu-item-modal-overlay ${isClosing ? 'closing' : ''}`,\n      onClick: closeMenuItemModal,\n      children: /*#__PURE__*/_jsxDEV(\"div\", {\n        ref: menuModalContentRef,\n        className: `menu-item-modal-content ${isClosing ? 'closing' : ''}`,\n        onClick: e => e.stopPropagation(),\n        style: {\n          '--initial-x': `${menuItemPosition.x}px`,\n          '--initial-y': `${menuItemPosition.y}px`,\n          '--initial-width': `${menuItemPosition.width}px`,\n          '--initial-height': `${menuItemPosition.height}px`\n        },\n        children: [/*#__PURE__*/_jsxDEV(\"button\", {\n          className: \"menu-item-modal-close\",\n          onClick: closeMenuItemModal,\n          \"aria-label\": \"\\u0417\\u0430\\u043A\\u0440\\u044B\\u0442\\u044C\",\n          children: \"\\xD7\"\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 537,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item-modal-image-container\",\n          children: /*#__PURE__*/_jsxDEV(\"img\", {\n            src: selectedMenuItem.image,\n            alt: selectedMenuItem.name,\n            className: \"menu-item-modal-image\",\n            onError: handleImageError\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 541,\n            columnNumber: 15\n          }, this)\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 540,\n          columnNumber: 13\n        }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n          className: \"menu-item-modal-info\",\n          children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n            className: \"menu-item-modal-name\",\n            children: selectedMenuItem.name\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 549,\n            columnNumber: 15\n          }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n            className: \"menu-item-modal-price-weight\",\n            children: [/*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"menu-item-modal-price\",\n              children: formatPrice(selectedMenuItem.price)\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 551,\n              columnNumber: 17\n            }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n              className: \"menu-item-modal-weight\",\n              children: [\"\\xB7 \", selectedMenuItem.weight]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 552,\n              columnNumber: 17\n            }, this)]\n          }, void 0, true, {\n            fileName: _jsxFileName,\n            lineNumber: 550,\n            columnNumber: 15\n          }, this), selectedMenuItem.description && /*#__PURE__*/_jsxDEV(\"p\", {\n            className: \"menu-item-modal-description\",\n            children: selectedMenuItem.description\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 555,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 548,\n          columnNumber: 13\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 526,\n        columnNumber: 11\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 522,\n      columnNumber: 9\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 436,\n    columnNumber: 5\n  }, this);\n};\n_s(Menu, \"Ci2Zw99fbyRx6FG43LqKmFT2jmg=\");\n_c = Menu;\nexport default Menu;\nvar _c;\n$RefreshReg$(_c, \"Menu\");","map":{"version":3,"names":["React","useState","useEffect","useRef","useLayoutEffect","defaultMenu","loadMenu","loadCategories","jsxDEV","_jsxDEV","Menu","_s","expandedItem","setExpandedItem","menuItems","setMenuItems","categories","setCategories","activeCategory","setActiveCategory","showCategoryBar","setShowCategoryBar","categoryRefs","categoryBarRef","activeButtonRef","selectedMenuItem","setSelectedMenuItem","menuItemPosition","setMenuItemPosition","isClosing","setIsClosing","menuModalContentRef","loadMenuFromFile","loadedCategories","Array","isArray","sort","a","b","order","length","console","log","defaultCategories","id","key","name","loadedMenu","error","toggleExpand","itemId","formatPrice","price","priceNum","parseInt","isNaN","handleImageError","e","target","src","getScrollbarWidth","outer","document","createElement","style","visibility","overflow","msOverflowStyle","body","appendChild","inner","scrollbarWidth","offsetWidth","parentNode","removeChild","applyScrollbarCompensation","paddingRight","documentElement","selectors","elementsToCheck","Set","forEach","selector","querySelectorAll","el","add","element","computedStyle","window","getComputedStyle","position","currentRight","right","currentWidth","width","dataset","originalRight","originalWidth","parseFloat","innerWidth","currentPaddingRight","currentPaddingRightValue","originalPaddingRight","removeScrollbarCompensation","fixedElements","originalPadding","undefined","handleMenuItemClick","item","event","closest","menuItem","currentTarget","rect","getBoundingClientRect","maxWidth","Math","min","scale","x","left","y","top","height","closeMenuItemModal","setTimeout","current","translateX","translateY","innerHeight","transform","opacity","requestAnimationFrame","animation","handleEscape","addEventListener","removeEventListener","categorizedItems","map","category","items","filter","group","handleScroll","scrollY","isMobile","shouldShow","header","querySelector","currentActive","offset","bottom","scrollContainer","button","containerRect","buttonRect","containerCenter","targetPosition","buttonLeft","offsetLeft","scrollOffset","scrollTo","max","behavior","handleResize","passive","scrollToCategory","categoryId","elementPosition","offsetPosition","className","children","ref","onClick","fileName","_jsxFileName","lineNumber","columnNumber","cursor","image","alt","onError","weight","stopPropagation","description","_c","$RefreshReg$"],"sources":["C:/restaurant-website (2)/restaurant-website/Backend/ClientApp/src/pages/Menu.js"],"sourcesContent":["import React, { useState, useEffect, useRef, useLayoutEffect } from 'react';\nimport './Menu.css';\nimport { defaultMenu } from '../data/defaultMenu';\nimport { loadMenu, loadCategories } from '../utils/fileStorage';\n\nconst Menu = () => {\n  const [expandedItem, setExpandedItem] = useState(null);\n  const [menuItems, setMenuItems] = useState([]);\n  const [categories, setCategories] = useState([]);\n  const [activeCategory, setActiveCategory] = useState(null);\n  const [showCategoryBar, setShowCategoryBar] = useState(false);\n  const categoryRefs = useRef({});\n  const categoryBarRef = useRef(null);\n  const activeButtonRef = useRef(null);\n  const [selectedMenuItem, setSelectedMenuItem] = useState(null);\n  const [menuItemPosition, setMenuItemPosition] = useState(null);\n  const [isClosing, setIsClosing] = useState(false);\n  const menuModalContentRef = useRef(null);\n\n  useEffect(() => {\n    const loadMenuFromFile = async () => {\n      try {\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –∏–∑ —Ñ–∞–π–ª–∞\n        const loadedCategories = await loadCategories();\n        if (Array.isArray(loadedCategories)) {\n          // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–∫–∞—Ç–µ–≥–æ—Ä–∏–∏ –º–æ–≥—É—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º–∏)\n          // –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\n          loadedCategories.sort((a, b) => a.order - b.order);\n          setCategories(loadedCategories);\n          if (loadedCategories.length === 0) {\n            console.log('üì• Menu: –ö–∞—Ç–µ–≥–æ—Ä–∏–∏ –ø—É—Å—Ç—ã–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏)');\n          }\n        } else {\n          // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤ (—Ñ–∞–π–ª –Ω–µ –Ω–∞–π–¥–µ–Ω), –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n          // (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª categories.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\n          console.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–π –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω—ã–µ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏');\n          const defaultCategories = [\n            { id: 1, key: 'cold', name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏', order: 1 },\n            { id: 2, key: 'salads', name: '–°–∞–ª–∞—Ç—ã', order: 2 },\n            { id: 3, key: 'hot', name: '–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞', order: 3 },\n            { id: 4, key: 'drinks', name: '–ù–∞–ø–∏—Ç–∫–∏', order: 4 }\n          ];\n          setCategories(defaultCategories);\n        }\n\n        // –ó–∞–≥—Ä—É–∂–∞–µ–º –º–µ–Ω—é –∏–∑ —Ñ–∞–π–ª–∞\n        const loadedMenu = await loadMenu();\n        if (Array.isArray(loadedMenu)) {\n          // –ü—É—Å—Ç–æ–π –º–∞—Å—Å–∏–≤ - —ç—Ç–æ –≤–∞–ª–∏–¥–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–º–µ–Ω—é –º–æ–∂–µ—Ç –±—ã—Ç—å –ø—É—Å—Ç—ã–º)\n          // –ù–µ –ø–æ–¥—Å—Ç–∞–≤–ª—è–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é, –µ—Å–ª–∏ –º–∞—Å—Å–∏–≤ –ø—Ä–æ—Å—Ç–æ –ø—É—Å—Ç–æ–π\n          setMenuItems(loadedMenu);\n          if (loadedMenu.length === 0) {\n            console.log('üì• Menu: –ú–µ–Ω—é –ø—É—Å—Ç–æ–µ (–ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å —É–¥–∞–ª–∏–ª –≤—Å–µ –ø–æ–∑–∏—Ü–∏–∏)');\n          }\n        } else {\n          // –ï—Å–ª–∏ –¥–∞–Ω–Ω—ã–µ –Ω–µ –º–∞—Å—Å–∏–≤, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –ø–µ—Ä–≤–æ–π –∑–∞–≥—Ä—É–∑–∫–µ\n          // (–∫–æ–≥–¥–∞ —Ñ–∞–π–ª menu.json –µ—â–µ –Ω–µ —Å–æ–∑–¥–∞–Ω)\n          console.log('üì• Menu: –î–∞–Ω–Ω—ã–µ –Ω–µ —è–≤–ª—è—é—Ç—Å—è –º–∞—Å—Å–∏–≤–æ–º, –∏—Å–ø–æ–ª—å–∑—É–µ–º –¥–µ—Ñ–æ–ª—Ç–Ω–æ–µ –º–µ–Ω—é');\n          setMenuItems([...defaultMenu]);\n        }\n      } catch (error) {\n        console.error('–û—à–∏–±–∫–∞ –∑–∞–≥—Ä—É–∑–∫–∏ –º–µ–Ω—é:', error);\n        setMenuItems([...defaultMenu]);\n        setCategories([\n          { id: 1, key: 'cold', name: '–•–æ–ª–æ–¥–Ω—ã–µ –∑–∞–∫—É—Å–∫–∏', order: 1 },\n          { id: 2, key: 'salads', name: '–°–∞–ª–∞—Ç—ã', order: 2 },\n          { id: 3, key: 'hot', name: '–ì–æ—Ä—è—á–∏–µ –±–ª—é–¥–∞', order: 3 },\n          { id: 4, key: 'drinks', name: '–ù–∞–ø–∏—Ç–∫–∏', order: 4 }\n        ]);\n      }\n    };\n\n    loadMenuFromFile();\n  }, []);\n\n  const toggleExpand = (itemId) => {\n    setExpandedItem(expandedItem === itemId ? null : itemId);\n  };\n\n  const formatPrice = (price) => {\n    const priceNum = parseInt(price);\n    return isNaN(priceNum) ? '0 ‚ÇΩ' : `${priceNum} ‚ÇΩ`;\n  };\n\n  const handleImageError = (e) => {\n    e.target.src = 'https://via.placeholder.com/300x200/8B7355/FFFFFF?text=–¢–±–∏–ª–∏—Å–∏';\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –≤—ã—á–∏—Å–ª–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n  const getScrollbarWidth = () => {\n    // –°–æ–∑–¥–∞–µ–º –≤—Ä–µ–º–µ–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –¥–ª—è –∏–∑–º–µ—Ä–µ–Ω–∏—è —à–∏—Ä–∏–Ω—ã —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n    const outer = document.createElement('div');\n    outer.style.visibility = 'hidden';\n    outer.style.overflow = 'scroll';\n    outer.style.msOverflowStyle = 'scrollbar'; // –¥–ª—è IE\n    document.body.appendChild(outer);\n    \n    const inner = document.createElement('div');\n    outer.appendChild(inner);\n    \n    const scrollbarWidth = outer.offsetWidth - inner.offsetWidth;\n    \n    outer.parentNode.removeChild(outer);\n    \n    return scrollbarWidth;\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è –ø—Ä–∏–º–µ–Ω–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –∫–æ –≤—Å–µ–º fixed —ç–ª–µ–º–µ–Ω—Ç–∞–º\n  const applyScrollbarCompensation = (scrollbarWidth) => {\n    if (scrollbarWidth <= 0) return;\n    \n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è body –∏ html\n    document.body.style.paddingRight = `${scrollbarWidth}px`;\n    document.documentElement.style.paddingRight = `${scrollbarWidth}px`;\n    \n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º –¥–ª—è –≤—Å–µ—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n    // –ò—â–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ –∏–∑–≤–µ—Å—Ç–Ω—ã–º –∫–ª–∞—Å—Å–∞–º\n    const selectors = ['.header', '.category-bar', '.admin-link', '.theme-switcher'];\n    const elementsToCheck = new Set();\n    \n    // –î–æ–±–∞–≤–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç—ã –ø–æ —Å–µ–ª–µ–∫—Ç–æ—Ä–∞–º\n    selectors.forEach(selector => {\n      document.querySelectorAll(selector).forEach(el => elementsToCheck.add(el));\n    });\n    \n    // –ü—Ä–æ–≤–µ—Ä—è–µ–º –≤—Å–µ —ç–ª–µ–º–µ–Ω—Ç—ã –∏ –Ω–∞—Ö–æ–¥–∏–º fixed\n    elementsToCheck.forEach(element => {\n      const computedStyle = window.getComputedStyle(element);\n      if (computedStyle.position === 'fixed') {\n        // –î–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ —Å width: 100% –∏—Å–ø–æ–ª—å–∑—É–µ–º right –≤–º–µ—Å—Ç–æ padding-right\n        // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä–∞—Å—à–∏—Ä–µ–Ω–∏–µ —ç–ª–µ–º–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n        const currentRight = computedStyle.right;\n        const currentWidth = computedStyle.width;\n        \n        // –°–æ—Ö—Ä–∞–Ω—è–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è\n        if (!element.dataset.originalRight) {\n          element.dataset.originalRight = currentRight;\n        }\n        if (!element.dataset.originalWidth) {\n          element.dataset.originalWidth = currentWidth;\n        }\n        \n        // –ï—Å–ª–∏ —ç–ª–µ–º–µ–Ω—Ç –∏–º–µ–µ—Ç width: 100% –∏–ª–∏ –±–ª–∏–∑–∫–æ –∫ —ç—Ç–æ–º—É, –∏—Å–ø–æ–ª—å–∑—É–µ–º right\n        if (currentWidth === '100%' || parseFloat(currentWidth) >= window.innerWidth - 10) {\n          element.style.right = `${scrollbarWidth}px`;\n        } else {\n          // –î–ª—è –¥—Ä—É–≥–∏—Ö fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏—Å–ø–æ–ª—å–∑—É–µ–º padding-right\n          const currentPaddingRight = computedStyle.paddingRight;\n          const currentPaddingRightValue = parseFloat(currentPaddingRight) || 0;\n          element.style.paddingRight = `${currentPaddingRightValue + scrollbarWidth}px`;\n          if (!element.dataset.originalPaddingRight) {\n            element.dataset.originalPaddingRight = currentPaddingRight;\n          }\n        }\n      }\n    });\n  };\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —É–¥–∞–ª–µ–Ω–∏—è –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n  const removeScrollbarCompensation = () => {\n    // –£–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å body –∏ html\n    document.body.style.paddingRight = '';\n    document.documentElement.style.paddingRight = '';\n    \n    // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –æ—Ä–∏–≥–∏–Ω–∞–ª—å–Ω—ã–µ –∑–Ω–∞—á–µ–Ω–∏—è –¥–ª—è fixed —ç–ª–µ–º–µ–Ω—Ç–æ–≤\n    const fixedElements = document.querySelectorAll('[data-original-padding-right], [data-original-right]');\n    fixedElements.forEach(element => {\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º padding-right\n      const originalPadding = element.dataset.originalPaddingRight;\n      if (originalPadding !== undefined) {\n        element.style.paddingRight = originalPadding;\n        delete element.dataset.originalPaddingRight;\n      } else if (element.style.paddingRight) {\n        element.style.paddingRight = '';\n      }\n      \n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º right\n      const originalRight = element.dataset.originalRight;\n      if (originalRight !== undefined) {\n        element.style.right = originalRight;\n        delete element.dataset.originalRight;\n      } else if (element.style.right) {\n        element.style.right = '';\n      }\n    });\n  };\n\n  // –û–±—Ä–∞–±–æ—Ç—á–∏–∫ –∫–ª–∏–∫–∞ –Ω–∞ —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é\n  const handleMenuItemClick = (item, event) => {\n    // –ü—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ–º –æ—Ç–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∫–Ω–æ–ø–∫—É \"–ü–æ–¥—Ä–æ–±–Ω–µ–µ\" –∏–ª–∏ –≤–Ω—É—Ç—Ä–∏ item-content\n    if (event.target.closest('.details-btn') || \n        event.target.closest('.item-content') ||\n        event.target.closest('.item-header') ||\n        event.target.closest('.item-description')) {\n      return;\n    }\n    \n    // –û—Ç–∫—Ä—ã–≤–∞–µ–º –º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ —Ç–æ–ª—å–∫–æ –ø—Ä–∏ –∫–ª–∏–∫–µ –Ω–∞ –∏–∑–æ–±—Ä–∞–∂–µ–Ω–∏–µ –∏–ª–∏ –Ω–∞ —Å–∞–º—É –∫–∞—Ä—Ç–æ—á–∫—É (–Ω–æ –Ω–µ –Ω–∞ –∫–æ–Ω—Ç–µ–Ω—Ç)\n    const menuItem = event.currentTarget;\n    const rect = menuItem.getBoundingClientRect();\n    \n    // –í—ã—á–∏—Å–ª—è–µ–º –º–∞–∫—Å–∏–º–∞–ª—å–Ω—É—é —à–∏—Ä–∏–Ω—É –¥–ª—è –º–∞—Å—à—Ç–∞–±–∏—Ä–æ–≤–∞–Ω–∏—è\n    const maxWidth = Math.min(window.innerWidth * 0.9, 800);\n    const scale = rect.width / maxWidth;\n    \n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –ø–æ–∑–∏—Ü–∏—é –∏ —Ä–∞–∑–º–µ—Ä –∏—Å—Ö–æ–¥–Ω–æ–≥–æ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–µ–Ω—é\n    const position = {\n      x: rect.left + rect.width / 2, // –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ X\n      y: rect.top + rect.height / 2, // –¶–µ–Ω—Ç—Ä —ç–ª–µ–º–µ–Ω—Ç–∞ –ø–æ Y\n      width: rect.width,\n      height: rect.height,\n      scale: scale // –ü—Ä–µ–¥–≤—ã—á–∏—Å–ª–µ–Ω–Ω—ã–π –º–∞—Å—à—Ç–∞–± –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n    };\n    \n    // –°–æ—Ö—Ä–∞–Ω—è–µ–º –≤—ã–±—Ä–∞–Ω–Ω—ã–π —ç–ª–µ–º–µ–Ω—Ç –º–µ–Ω—é –∏ –ø–æ–∑–∏—Ü–∏—é –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ\n    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Ä—ã–≤–æ–∫ –ø—Ä–∏ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–µ\n    setSelectedMenuItem(item);\n    setMenuItemPosition(position);\n    \n    // –ö–æ–º–ø–µ–Ω—Å–∏—Ä—É–µ–º —à–∏—Ä–∏–Ω—É —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞ –ø–µ—Ä–µ–¥ –±–ª–æ–∫–∏—Ä–æ–≤–∫–æ–π —Å–∫—Ä–æ–ª–ª–∞\n    // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç —Å–¥–≤–∏–≥ –∫–æ–Ω—Ç–µ–Ω—Ç–∞ –ø—Ä–∏ –∏—Å—á–µ–∑–Ω–æ–≤–µ–Ω–∏–∏ —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n    const scrollbarWidth = getScrollbarWidth();\n    applyScrollbarCompensation(scrollbarWidth);\n    \n    // –ë–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã\n    document.body.style.overflow = 'hidden';\n  };\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –º–æ–¥–∞–ª—å–Ω–æ–≥–æ –æ–∫–Ω–∞ —Å –ø–ª–∞–≤–Ω–æ–π –∞–Ω–∏–º–∞—Ü–∏–µ–π\n  const closeMenuItemModal = () => {\n    // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –∑–∞–∫—Ä—ã—Ç–∏—è\n    setIsClosing(true);\n    \n    // –ü–æ—Å–ª–µ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è (0.4s) —É–¥–∞–ª—è–µ–º —ç–ª–µ–º–µ–Ω—Ç\n    setTimeout(() => {\n      setSelectedMenuItem(null);\n      setMenuItemPosition(null);\n      setIsClosing(false);\n      // –†–∞–∑–±–ª–æ–∫–∏—Ä—É–µ–º —Å–∫—Ä–æ–ª–ª —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∏ —É–±–∏—Ä–∞–µ–º –∫–æ–º–ø–µ–Ω—Å–∞—Ü–∏—é —Å–∫—Ä–æ–ª–ª–±–∞—Ä–∞\n      document.body.style.overflow = '';\n      removeScrollbarCompensation();\n    }, 400); // –í—Ä–µ–º—è –∞–Ω–∏–º–∞—Ü–∏–∏ –∑–∞–∫—Ä—ã—Ç–∏—è\n  };\n\n  // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ transform –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º –¥–ª—è –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–µ–Ω–∏—è —Ä—ã–≤–∫–∞\n  useLayoutEffect(() => {\n    if (selectedMenuItem && menuItemPosition && menuModalContentRef.current && !isClosing) {\n      // –í—ã—á–∏—Å–ª—è–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ\n      const maxWidth = Math.min(window.innerWidth * 0.9, 800);\n      const scale = menuItemPosition.width / maxWidth;\n      const translateX = menuItemPosition.x - window.innerWidth / 2;\n      const translateY = menuItemPosition.y - window.innerHeight / 2;\n      \n      // –£—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º –Ω–∞—á–∞–ª—å–Ω–æ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ —Å–∏–Ω—Ö—Ä–æ–Ω–Ω–æ –ø–µ—Ä–µ–¥ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º\n      // –≠—Ç–æ –ø—Ä–µ–¥–æ—Ç–≤—Ä–∞—â–∞–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—ã–π —Ä—ã–≤–æ–∫\n      const element = menuModalContentRef.current;\n      element.style.transform = `translate(${translateX}px, ${translateY}px) scale(${scale})`;\n      element.style.opacity = '0.7';\n      \n      // –ó–∞–ø—É—Å–∫–∞–µ–º –∞–Ω–∏–º–∞—Ü–∏—é –≤ —Å–ª–µ–¥—É—é—â–µ–º –∫–∞–¥—Ä–µ –ø–æ—Å–ª–µ —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n      requestAnimationFrame(() => {\n        if (element && !isClosing) {\n          element.style.animation = 'zoomInMenuItem 0.4s cubic-bezier(0.34, 1.56, 0.64, 1) forwards';\n        }\n      });\n    }\n  }, [selectedMenuItem, menuItemPosition, isClosing]);\n\n  // –ó–∞–∫—Ä—ã—Ç–∏–µ –ø–æ Escape\n  useEffect(() => {\n    const handleEscape = (e) => {\n      if (e.key === 'Escape' && selectedMenuItem) {\n        closeMenuItemModal();\n      }\n    };\n    \n    window.addEventListener('keydown', handleEscape);\n    return () => window.removeEventListener('keydown', handleEscape);\n  }, [selectedMenuItem]);\n\n  // –ì—Ä—É–ø–ø–∏—Ä—É–µ–º –±–ª—é–¥–∞ –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º\n  const categorizedItems = categories.map(category => ({\n    category,\n    items: menuItems.filter(item => item.category === category.key)\n  })).filter(group => group.items.length > 0);\n\n  // –û—Ç—Å–ª–µ–∂–∏–≤–∞–Ω–∏–µ —Å–∫—Ä–æ–ª–ª–∞ –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  useEffect(() => {\n    const handleScroll = () => {\n      const scrollY = window.scrollY;\n      const isMobile = window.innerWidth <= 768;\n      \n      // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º –ø–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –ø–æ—Å–ª–µ —Å–∫—Ä–æ–ª–ª–∞ –≤–Ω–∏–∑ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n      if (isMobile) {\n        const shouldShow = scrollY > 200;\n        setShowCategoryBar(shouldShow);\n        // –°–∫—Ä—ã–≤–∞–µ–º Header –ø—Ä–∏ –ø–æ–∫–∞–∑–µ –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n        const header = document.querySelector('.header');\n        if (header) {\n          if (shouldShow) {\n            header.style.transform = 'translateY(-100%)';\n          } else {\n            header.style.transform = 'translateY(0)';\n          }\n        }\n      } else {\n        setShowCategoryBar(false);\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\n        const header = document.querySelector('.header');\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      }\n      \n      // –û–ø—Ä–µ–¥–µ–ª—è–µ–º –∞–∫—Ç–∏–≤–Ω—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é –Ω–∞ –æ—Å–Ω–æ–≤–µ –ø–æ–∑–∏—Ü–∏–∏ —Å–∫—Ä–æ–ª–ª–∞\n      let currentActive = null;\n      const offset = isMobile ? 100 : 150; // –û—Ç—Å—Ç—É–ø –¥–ª—è –æ–ø—Ä–µ–¥–µ–ª–µ–Ω–∏—è –∞–∫—Ç–∏–≤–Ω–æ–π –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n      \n      categorizedItems.forEach(({ category }) => {\n        const element = categoryRefs.current[category.id];\n        if (element) {\n          const rect = element.getBoundingClientRect();\n          if (rect.top <= offset && rect.bottom > offset) {\n            currentActive = category.id;\n          }\n        }\n      });\n      \n      // –ï—Å–ª–∏ –º—ã –≤ —Å–∞–º–æ–º –≤–µ—Ä—Ö—É, –≤—ã–±–∏—Ä–∞–µ–º –ø–µ—Ä–≤—É—é –∫–∞—Ç–µ–≥–æ—Ä–∏—é\n      if (scrollY < 100 && categorizedItems.length > 0) {\n        currentActive = categorizedItems[0].category.id;\n      }\n      \n      if (currentActive !== activeCategory) {\n        setActiveCategory(currentActive);\n        \n        // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏, —á—Ç–æ–±—ã –∞–∫—Ç–∏–≤–Ω–∞—è –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n        if (isMobile && activeButtonRef.current && categoryBarRef.current) {\n          // –ò—Å–ø–æ–ª—å–∑—É–µ–º setTimeout –¥–ª—è —Ç–æ–≥–æ, —á—Ç–æ–±—ã –¥–∞—Ç—å –≤—Ä–µ–º—è –Ω–∞ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ DOM\n          setTimeout(() => {\n            if (activeButtonRef.current && categoryBarRef.current) {\n              const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n              if (scrollContainer) {\n                const button = activeButtonRef.current;\n                const containerRect = scrollContainer.getBoundingClientRect();\n                const buttonRect = button.getBoundingClientRect();\n                \n                // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\n                const containerCenter = containerRect.width / 2;\n                const targetPosition = containerCenter - (containerRect.width / 3); // –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\n                const buttonLeft = button.offsetLeft; // –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n                const scrollOffset = buttonLeft - targetPosition;\n                \n                scrollContainer.scrollTo({\n                  left: Math.max(0, scrollOffset), // –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\n                  behavior: 'smooth'\n                });\n              }\n            }\n          }, 100);\n        }\n      }\n    };\n\n    const handleResize = () => {\n      // –ü—Ä–∏ –∏–∑–º–µ–Ω–µ–Ω–∏–∏ —Ä–∞–∑–º–µ—Ä–∞ –æ–∫–Ω–∞ –ø—Ä–æ–≤–µ—Ä—è–µ–º, –Ω—É–∂–Ω–æ –ª–∏ –ø–æ–∫–∞–∑—ã–≤–∞—Ç—å –ø–∞–Ω–µ–ª—å\n      const header = document.querySelector('.header');\n      if (window.innerWidth > 768) {\n        setShowCategoryBar(false);\n        // –ü–æ–∫–∞–∑—ã–≤–∞–µ–º Header –Ω–∞ –¥–µ—Å–∫—Ç–æ–ø–µ\n        if (header) {\n          header.style.transform = 'translateY(0)';\n        }\n      } else {\n        handleScroll();\n      }\n    };\n\n    window.addEventListener('scroll', handleScroll, { passive: true });\n    window.addEventListener('resize', handleResize);\n    handleScroll(); // –í—ã–∑—ã–≤–∞–µ–º —Å—Ä–∞–∑—É –¥–ª—è –Ω–∞—á–∞–ª—å–Ω–æ–≥–æ —Å–æ—Å—Ç–æ—è–Ω–∏—è\n    \n    return () => {\n      window.removeEventListener('scroll', handleScroll);\n      window.removeEventListener('resize', handleResize);\n      // –í–æ—Å—Å—Ç–∞–Ω–∞–≤–ª–∏–≤–∞–µ–º Header –ø—Ä–∏ —Ä–∞–∑–º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–∏\n      const header = document.querySelector('.header');\n      if (header) {\n        header.style.transform = 'translateY(0)';\n      }\n    };\n  }, [categorizedItems, activeCategory]);\n\n  // –§—É–Ω–∫—Ü–∏—è –¥–ª—è —Å–∫—Ä–æ–ª–ª–∞ –∫ –∫–∞—Ç–µ–≥–æ—Ä–∏–∏\n  const scrollToCategory = (categoryId) => {\n    const element = categoryRefs.current[categoryId];\n    if (element) {\n      const offset = 80; // –û—Ç—Å—Ç—É–ø —Å–≤–µ—Ä—Ö—É –¥–ª—è –ø–∞–Ω–µ–ª–∏ –∫–∞—Ç–µ–≥–æ—Ä–∏–π\n      const elementPosition = element.getBoundingClientRect().top + window.scrollY;\n      const offsetPosition = elementPosition - offset;\n      \n      window.scrollTo({\n        top: offsetPosition,\n        behavior: 'smooth'\n      });\n      \n      setActiveCategory(categoryId);\n      \n      // –ê–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏–π —Å–∫—Ä–æ–ª–ª –∫–Ω–æ–ø–æ–∫ –≤ –ø–∞–Ω–µ–ª–∏ –ø—Ä–∏ –∫–ª–∏–∫–µ (—Ç–æ–ª—å–∫–æ –Ω–∞ –º–æ–±–∏–ª—å–Ω—ã—Ö)\n      if (window.innerWidth <= 768 && categoryBarRef.current) {\n        setTimeout(() => {\n          const scrollContainer = categoryBarRef.current.querySelector('.category-bar-scroll');\n          // –ù–∞—Ö–æ–¥–∏–º –∫–Ω–æ–ø–∫—É –ø–æ categoryId\n          const button = scrollContainer?.querySelector(`[data-category-id=\"${categoryId}\"]`);\n          if (scrollContainer && button) {\n            const containerRect = scrollContainer.getBoundingClientRect();\n            const buttonRect = button.getBoundingClientRect();\n            \n            // –í—ã—á–∏—Å–ª—è–µ–º –ø–æ–∑–∏—Ü–∏—é, —á—Ç–æ–±—ã –∫–Ω–æ–ø–∫–∞ –±—ã–ª–∞ –ø–æ —Ü–µ–Ω—Ç—Ä—É –∏–ª–∏ –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞ (–ø—Ä–∏–º–µ—Ä–Ω–æ –Ω–∞ 1/3 –æ—Ç —Ü–µ–Ω—Ç—Ä–∞)\n            const containerCenter = containerRect.width / 2;\n            const targetPosition = containerCenter - (containerRect.width / 3); // –ü–æ–∑–∏—Ü–∏—è –ª–µ–≤–µ–µ —Ü–µ–Ω—Ç—Ä–∞\n            const buttonLeft = button.offsetLeft; // –ü–æ–∑–∏—Ü–∏—è –∫–Ω–æ–ø–∫–∏ –æ—Ç–Ω–æ—Å–∏—Ç–µ–ª—å–Ω–æ –∫–æ–Ω—Ç–µ–π–Ω–µ—Ä–∞\n            const scrollOffset = buttonLeft - targetPosition;\n            \n            scrollContainer.scrollTo({\n              left: Math.max(0, scrollOffset), // –ù–µ —Å–∫—Ä–æ–ª–ª–∏–º –≤ –æ—Ç—Ä–∏—Ü–∞—Ç–µ–ª—å–Ω—É—é —Å—Ç–æ—Ä–æ–Ω—É\n              behavior: 'smooth'\n            });\n          }\n        }, 150);\n      }\n    }\n  };\n\n  return (\n    <div className={`menu-page ${showCategoryBar ? 'category-bar-visible' : ''}`}>\n      {/* –ü–∞–Ω–µ–ª—å –∫–∞—Ç–µ–≥–æ—Ä–∏–π –¥–ª—è –º–æ–±–∏–ª—å–Ω–æ–π –≤–µ—Ä—Å–∏–∏ */}\n      {categorizedItems.length > 0 && (\n        <div className={`category-bar ${showCategoryBar ? 'visible' : ''}`} ref={categoryBarRef}>\n          <div className=\"category-bar-scroll\">\n            {categorizedItems.map(({ category }) => (\n              <button\n                key={category.id}\n                ref={activeCategory === category.id ? activeButtonRef : null}\n                data-category-id={category.id}\n                className={`category-bar-button ${activeCategory === category.id ? 'active' : ''}`}\n                onClick={() => scrollToCategory(category.id)}\n              >\n                {category.name}\n              </button>\n            ))}\n          </div>\n        </div>\n      )}\n      \n      <div className=\"container\">\n        <h1 className=\"menu-title\">–ú–µ–Ω—é —Ä–µ—Å—Ç–æ—Ä–∞–Ω–∞ \"–¢–±–∏–ª–∏—Å–∏\"</h1>\n        \n        {categorizedItems.map(({ category, items }) => (\n          <section \n            key={category.id} \n            className=\"menu-category\"\n            ref={(el) => {\n              if (el) categoryRefs.current[category.id] = el;\n            }}\n          >\n            <h2 className=\"category-title\">{category.name}</h2>\n            <div className=\"menu-grid\">\n              {items.map(item => (\n                <div \n                  key={item.id} \n                  className=\"menu-item\"\n                  onClick={(e) => handleMenuItemClick(item, e)}\n                  style={{ cursor: 'pointer' }}\n                >\n                  <div className=\"item-image\">\n                    <img \n                      src={item.image} \n                      alt={item.name}\n                      onError={handleImageError}\n                    />\n                  </div>\n                  <div className=\"item-content\">\n                    <div className=\"item-header\">\n                      <h3 className=\"item-name\">{item.name}</h3>\n                      <div className=\"item-price-weight\">\n                        <span className=\"item-price\">{formatPrice(item.price)}</span>\n                        <span className=\"item-weight\">¬∑ {item.weight}</span>\n                      </div>\n                    </div>\n                    <button \n                      className=\"details-btn\"\n                      onClick={(e) => {\n                        e.stopPropagation();\n                        toggleExpand(item.id);\n                      }}\n                    >\n                      {expandedItem === item.id ? '–°–∫—Ä—ã—Ç—å' : '–ü–æ–¥—Ä–æ–±–Ω–µ–µ'}\n                    </button>\n                    {expandedItem === item.id && (\n                      <div className=\"item-description\">\n                        {item.description}\n                      </div>\n                    )}\n                  </div>\n                </div>\n              ))}\n            </div>\n          </section>\n        ))}\n        \n        {categorizedItems.length === 0 && (\n          <div className=\"empty-menu-message\">\n            <h2>–ú–µ–Ω—é –≤—Ä–µ–º–µ–Ω–Ω–æ –Ω–µ–¥–æ—Å—Ç—É–ø–Ω–æ</h2>\n            <p>–ü–æ–∂–∞–ª—É–π—Å—Ç–∞, –∑–∞–π–¥–∏—Ç–µ –ø–æ–∑–∂–µ –∏–ª–∏ —Å–≤—è–∂–∏—Ç–µ—Å—å —Å –∞–¥–º–∏–Ω–∏—Å—Ç—Ä–∞—Ç–æ—Ä–æ–º</p>\n          </div>\n        )}\n      </div>\n\n      {/* –ú–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ –¥–ª—è –ø—Ä–æ—Å–º–æ—Ç—Ä–∞ —ç–ª–µ–º–µ–Ω—Ç–∞ –º–µ–Ω—é */}\n      {selectedMenuItem && menuItemPosition && (\n        <div \n          className={`menu-item-modal-overlay ${isClosing ? 'closing' : ''}`}\n          onClick={closeMenuItemModal}\n        >\n          <div \n            ref={menuModalContentRef}\n            className={`menu-item-modal-content ${isClosing ? 'closing' : ''}`}\n            onClick={(e) => e.stopPropagation()}\n            style={{\n              '--initial-x': `${menuItemPosition.x}px`,\n              '--initial-y': `${menuItemPosition.y}px`,\n              '--initial-width': `${menuItemPosition.width}px`,\n              '--initial-height': `${menuItemPosition.height}px`\n            }}\n          >\n            <button className=\"menu-item-modal-close\" onClick={closeMenuItemModal} aria-label=\"–ó–∞–∫—Ä—ã—Ç—å\">\n              √ó\n            </button>\n            <div className=\"menu-item-modal-image-container\">\n              <img \n                src={selectedMenuItem.image} \n                alt={selectedMenuItem.name}\n                className=\"menu-item-modal-image\"\n                onError={handleImageError}\n              />\n            </div>\n            <div className=\"menu-item-modal-info\">\n              <h2 className=\"menu-item-modal-name\">{selectedMenuItem.name}</h2>\n              <div className=\"menu-item-modal-price-weight\">\n                <span className=\"menu-item-modal-price\">{formatPrice(selectedMenuItem.price)}</span>\n                <span className=\"menu-item-modal-weight\">¬∑ {selectedMenuItem.weight}</span>\n              </div>\n              {selectedMenuItem.description && (\n                <p className=\"menu-item-modal-description\">{selectedMenuItem.description}</p>\n              )}\n            </div>\n          </div>\n        </div>\n      )}\n    </div>\n  );\n};\n\nexport default Menu;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}